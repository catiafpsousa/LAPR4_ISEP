<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2188.9px" preserveAspectRatio="none" style="width:1675px;height:2188px;background:#FFFFFF;" version="1.1" viewBox="0 0 1675 2188" width="1675.8px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="2031.0992" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="216.65" y="82.9992"/><rect fill="#FFFFFF" height="1988.607" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="451.85" y="125.4914"/><rect fill="#FFFFFF" height="1937.7148" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="738.15" y="177.0836"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="709.4555"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1280.7156"/><rect fill="#FFFFFF" height="71.4383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1437.8"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1733.5992"/><rect fill="#FFFFFF" height="92.4383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1900.0297"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="734.2016"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="1305.4617"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="1758.3453"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1167.25" y="818.6937"/><rect fill="#FFFFFF" height="76.7922" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1167.25" y="1842.8375"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1324.05" y="1389.9539"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="882.1859"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="1462.5461"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="1945.7758"/><rect fill="#FFFFFF" height="53.7578" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="198.3297"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="431.1562"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="776.4477"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="955.0242"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1347.7078"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1535.3844"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1800.5914"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="2018.6141"/><rect fill="none" height="476.4758" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="569.1328"/><rect fill="none" height="570.5602" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="1055.4086"/><rect fill="none" height="473.4297" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="1635.7687"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="25.9" x2="25.9" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="219.8" x2="219.8" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="455.35" x2="455.35" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="741.3" x2="741.3" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1110.55" x2="1110.55" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1170.75" x2="1170.75" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1327.55" x2="1327.55" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1395.45" x2="1395.45" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1522.15" x2="1522.15" y1="60.3531" y2="2121.0984"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="1625.75" x2="1625.75" y1="60.3531" y2="2121.0984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="20.3" x="14" y="58.1998">User</text><ellipse cx="26.25" cy="11.9766" fill="#E2E2F0" rx="5.6" ry="5.6" style="stroke:#181818;stroke-width:0.3499999999999999;"/><path d="M26.25,17.5766 L26.25,36.4766 M17.15,23.1766 L35.35,23.1766 M26.25,36.4766 L17.15,46.9766 M26.25,36.4766 L35.35,46.9766 " fill="none" style="stroke:#181818;stroke-width:0.3499999999999999;"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="20.3" x="14" y="2130.5717">User</text><ellipse cx="26.25" cy="2138.675" fill="#E2E2F0" rx="5.6" ry="5.6" style="stroke:#181818;stroke-width:0.3499999999999999;"/><path d="M26.25,2144.275 L26.25,2163.175 M17.15,2149.875 L35.35,2149.875 M26.25,2163.175 L17.15,2173.675 M26.25,2163.175 L35.35,2173.675 " fill="none" style="stroke:#181818;stroke-width:0.3499999999999999;"/><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="76.3" x="182" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="66.5" x="186.9" y="40.2732">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="64.4" x="187.95" y="52.5998">UpdatePostItUI</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="76.3" x="182" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="66.5" x="186.9" y="2135.4717">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="64.4" x="187.95" y="2147.7982">UpdatePostItUI</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="109.2" x="400.75" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="425.95" y="40.2732">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="99.4" x="405.65" y="52.5998">UpdatePostItController</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="109.2" x="400.75" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="425.95" y="2135.4717">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="99.4" x="405.65" y="2147.7982">UpdatePostItController</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="126.7" x="678.3" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="712.25" y="40.2732">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="116.9" x="683.2" y="52.5998">BoardManagementService</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="126.7" x="678.3" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="712.25" y="2135.4717">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="116.9" x="683.2" y="2147.7982">BoardManagementService</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1083.95" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1088.85" y="40.2732">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="24.5" x="1098.3" y="52.5998">PostIt</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1083.95" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1088.85" y="2135.4717">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="24.5" x="1098.3" y="2147.7982">PostIt</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1144.15" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1149.05" y="40.2732">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="16.8" x="1162.35" y="52.5998">Cell</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1144.15" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1149.05" y="2135.4717">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="16.8" x="1162.35" y="2147.7982">Cell</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1300.95" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1305.85" y="40.2732">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="34.3" x="1310.4" y="52.5998">newCell</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="53.2" x="1300.95" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1305.85" y="2135.4717">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="34.3" x="1310.4" y="2147.7982">newCell</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="68.6" x="1361.15" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1373.75" y="40.2732">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="58.8" x="1366.05" y="52.5998">SharedBoard</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="68.6" x="1361.15" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1373.75" y="2135.4717">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="58.8" x="1366.05" y="2147.7982">SharedBoard</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="116.2" x="1464.05" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1500.45" y="40.2732">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="106.4" x="1468.95" y="52.5998">mod : BoardModification</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="116.2" x="1464.05" y="2120.3984"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="43.4" x="1500.45" y="2135.4717">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="106.4" x="1468.95" y="2147.7982">mod : BoardModification</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="1596.35" y="45.8732">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="73.5" x="1587.25" y="58.1998">boardRepository</text><path d="M1613.5,10.5 C1613.5,3.5 1626.1,3.5 1626.1,3.5 C1626.1,3.5 1638.7,3.5 1638.7,10.5 L1638.7,28.7 C1638.7,35.7 1626.1,35.7 1626.1,35.7 C1626.1,35.7 1613.5,35.7 1613.5,28.7 L1613.5,10.5 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M1613.5,10.5 C1613.5,17.5 1626.1,17.5 1626.1,17.5 C1626.1,17.5 1638.7,17.5 1638.7,10.5 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="1596.35" y="2130.5717">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="73.5" x="1587.25" y="2142.8982">boardRepository</text><path d="M1613.5,2152.0516 C1613.5,2145.0516 1626.1,2145.0516 1626.1,2145.0516 C1626.1,2145.0516 1638.7,2145.0516 1638.7,2152.0516 L1638.7,2170.2516 C1638.7,2177.2516 1626.1,2177.2516 1626.1,2177.2516 C1626.1,2177.2516 1613.5,2177.2516 1613.5,2170.2516 L1613.5,2152.0516 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M1613.5,2152.0516 C1613.5,2159.0516 1626.1,2159.0516 1626.1,2159.0516 C1626.1,2159.0516 1638.7,2159.0516 1638.7,2152.0516 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><rect fill="#FFFFFF" height="2031.0992" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="216.65" y="82.9992"/><rect fill="#FFFFFF" height="1988.607" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="451.85" y="125.4914"/><rect fill="#FFFFFF" height="1937.7148" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="738.15" y="177.0836"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="709.4555"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1280.7156"/><rect fill="#FFFFFF" height="71.4383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1437.8"/><rect fill="#FFFFFF" height="45.7461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1733.5992"/><rect fill="#FFFFFF" height="92.4383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="741.65" y="1900.0297"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="734.2016"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="1305.4617"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1107.05" y="1758.3453"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1167.25" y="818.6937"/><rect fill="#FFFFFF" height="76.7922" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1167.25" y="1842.8375"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1324.05" y="1389.9539"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="882.1859"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="1462.5461"/><rect fill="#FFFFFF" height="72.8383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1391.95" y="1945.7758"/><rect fill="#FFFFFF" height="53.7578" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="198.3297"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="431.1562"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="776.4477"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="955.0242"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1347.7078"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1535.3844"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="1800.5914"/><rect fill="#FFFFFF" height="21.2461" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="1622.6" y="2018.6141"/><polygon fill="#181818" points="208.25,80.1992,215.25,82.9992,208.25,85.7992,211.05,82.9992" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="82.9992" y2="82.9992"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="58.8" x="31.15" y="79.5997">udpates PostIt</text><polygon fill="#181818" points="446.95,101.4453,453.95,104.2453,446.95,107.0453,449.75,104.2453" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="451.15" y1="104.2453" y2="104.2453"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="30.8" x="228.55" y="100.8458">create()</text><polygon fill="#181818" points="443.45,122.6914,450.45,125.4914,443.45,128.2914,446.25,125.4914" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="125.4914" y2="125.4914"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="147.7" x="228.55" y="122.0919">sharedBoardsWithWritePermission()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="488.25" y1="146.7375" y2="146.7375"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="488.25" x2="488.25" y1="146.7375" y2="155.8375"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="459.55" x2="488.25" y1="155.8375" y2="155.8375"/><polygon fill="#181818" points="466.55,153.0375,459.55,155.8375,466.55,158.6375,463.75,155.8375" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="72.8" x="463.75" y="143.338">user:currentUser()</text><polygon fill="#181818" points="729.75,174.2836,736.75,177.0836,729.75,179.8836,732.55,177.0836" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="733.95" y1="177.0836" y2="177.0836"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="208.6" x="463.75" y="173.6841">allBoardsBySystemUserWithWritePermission(user)</text><polygon fill="#181818" points="1614.2,195.5297,1621.2,198.3297,1614.2,201.1297,1617,198.3297" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="1618.4" y1="198.3297" y2="198.3297"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="184.8" x="750.05" y="194.9302">findBySystemUserWithWritePermission(user)</text><rect fill="none" height="29.0117" style="stroke:#000000;stroke-width:1.0499999999999998;" width="174.3" x="676.2" y="203.9297"/><path d="M676.2,203.9297 L719.6,203.9297 L719.6,209.5297 L712.6,216.5297 L676.2,216.5297 L676.2,203.9297 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.3999999999999997;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="11.9" x="685.3" y="214.7763">ref</text><text fill="#000000" font-family="FG Virgil" font-size="8.4" lengthAdjust="spacing" textLength="168.7" x="679" y="228.0496">SD_findBySystemUserWithWritePermission</text><polygon fill="#181818" points="752.85,249.2875,745.85,252.0875,752.85,254.8875,750.05,252.0875" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1625.4" y1="252.0875" y2="252.0875"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="147.7" x="757.05" y="248.688">allUserBoardsWithWritePermissions</text><polygon fill="#181818" points="466.55,270.5336,459.55,273.3336,466.55,276.1336,463.75,273.3336" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="737.45" y1="273.3336" y2="273.3336"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="147.7" x="470.75" y="269.9341">allUserBoardsWithWritePermissions</text><polygon fill="#181818" points="231.35,291.7797,224.35,294.5797,231.35,297.3797,228.55,294.5797" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="294.5797" y2="294.5797"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="147.7" x="235.55" y="291.1802">allUserBoardsWithWritePermissions</text><polygon fill="#181818" points="33.95,313.0258,26.95,315.8258,33.95,318.6258,31.15,315.8258" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="315.8258" y2="315.8258"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="154.7" x="38.15" y="312.4263">lists the boards with write permissions</text><polygon fill="#181818" points="208.25,334.2719,215.25,337.0719,208.25,339.8719,211.05,337.0719" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="26.25" x2="212.45" y1="337.0719" y2="337.0719"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="62.3" x="31.15" y="333.6724">selects a board</text><polygon fill="#181818" points="443.45,355.518,450.45,358.318,443.45,361.118,446.25,358.318" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="358.318" y2="358.318"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="150.5" x="228.55" y="354.9185">cellsOfBoardAndUser(boardSelected)</text><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="488.25" y1="379.5641" y2="379.5641"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="488.25" x2="488.25" y1="379.5641" y2="388.6641"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="459.55" x2="488.25" y1="388.6641" y2="388.6641"/><polygon fill="#181818" points="466.55,385.8641,459.55,388.6641,466.55,391.4641,463.75,388.6641" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="72.8" x="463.75" y="376.1646">user:currentUser()</text><polygon fill="#181818" points="729.75,407.1102,736.75,409.9102,729.75,412.7102,732.55,409.9102" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="733.95" y1="409.9102" y2="409.9102"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="151.9" x="463.75" y="406.5106">findCellsWithUserPostIts(board, user)</text><polygon fill="#181818" points="1614.2,428.3562,1621.2,431.1562,1614.2,433.9562,1617,431.1562" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="1618.4" y1="431.1562" y2="431.1562"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="257.6" x="750.05" y="427.7567">cellsWithOwnedPostIts = findCellsWithUserPostIts(board, user)</text><polygon fill="#181818" points="752.85,449.6023,745.85,452.4023,752.85,455.2023,750.05,452.4023" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1625.4" y1="452.4023" y2="452.4023"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="94.5" x="757.05" y="449.0028">cellsWithOwnedPostIts</text><polygon fill="#181818" points="466.55,470.8484,459.55,473.6484,466.55,476.4484,463.75,473.6484" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="737.45" y1="473.6484" y2="473.6484"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="94.5" x="470.75" y="470.2489">cellsWithOwnedPostIts</text><polygon fill="#181818" points="231.35,492.0945,224.35,494.8945,231.35,497.6945,228.55,494.8945" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="494.8945" y2="494.8945"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="94.5" x="235.55" y="491.495">cellsWithOwnedPostIts</text><polygon fill="#181818" points="33.95,513.3406,26.95,516.1406,33.95,518.9406,31.15,516.1406" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="516.1406" y2="516.1406"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="173.6" x="38.15" y="512.7411">shows cells with postIts owned by the user</text><polygon fill="#181818" points="208.25,534.5867,215.25,537.3867,208.25,540.1867,211.05,537.3867" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="26.25" x2="212.45" y1="537.3867" y2="537.3867"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="121.1" x="31.15" y="533.9872">selects a cell to update PostIt</text><polygon fill="#181818" points="33.95,555.8328,26.95,558.6328,33.95,561.4328,31.15,558.6328" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="558.6328" y2="558.6328"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="83.3" x="38.15" y="555.2333">show update options</text><path d="M7,569.1328 L49.7,569.1328 L49.7,574.9789 L42.7,581.9789 L7,581.9789 L7,569.1328 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0499999999999998;"/><rect fill="none" height="476.4758" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="569.1328"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="17.5" y="579.2794">alt</text><text fill="#000000" font-family="FG Virgil" font-size="7.7" font-weight="bold" lengthAdjust="spacing" textLength="72.1" x="60.2" y="578.5261">[option == content]</text><polygon fill="#181818" points="208.25,594.825,215.25,597.625,208.25,600.425,211.05,597.625" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="597.625" y2="597.625"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="92.4" x="31.15" y="594.2255">selects update content</text><polygon fill="#181818" points="33.95,616.0711,26.95,618.8711,33.95,621.6711,31.15,618.8711" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="618.8711" y2="618.8711"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="71.4" x="38.15" y="615.4716">asks new content</text><polygon fill="#181818" points="208.25,637.3172,215.25,640.1172,208.25,642.9172,211.05,640.1172" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="640.1172" y2="640.1172"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="76.3" x="31.15" y="636.7177">inputs new content</text><polygon fill="#181818" points="443.45,658.5633,450.45,661.3633,443.45,664.1633,446.25,661.3633" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="661.3633" y2="661.3633"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="211.4" x="228.55" y="657.9638">updatePostItContent(board, cell, postIt, newContent)</text><polygon fill="#181818" points="729.75,679.8094,736.75,682.6094,729.75,685.4094,732.55,682.6094" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="733.95" y1="682.6094" y2="682.6094"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="211.4" x="463.75" y="679.2099">updatePostItContent(board, cell, postIt, newContent)</text><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="778.05" y1="700.3555" y2="700.3555"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="778.05" x2="778.05" y1="700.3555" y2="709.4555"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="749.35" x2="778.05" y1="709.4555" y2="709.4555"/><polygon fill="#181818" points="756.35,706.6555,749.35,709.4555,756.35,712.2555,753.55,709.4555" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="123.2" x="753.55" y="696.956">deleteSatePostIt(board, postIt)</text><polygon fill="#181818" points="1098.65,731.4016,1105.65,734.2016,1098.65,737.0016,1101.45,734.2016" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1102.85" y1="734.2016" y2="734.2016"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="72.8" x="753.55" y="730.8021">deleteSatePostIt()</text><polygon fill="#181818" points="1614.2,773.6477,1621.2,776.4477,1614.2,779.2477,1617,776.4477" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1618.4" y1="776.4477" y2="776.4477"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="773.0481">save(board)</text><polygon fill="#181818" points="1158.85,815.8937,1165.85,818.6937,1158.85,821.4937,1161.65,818.6937" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1163.05" y1="818.6937" y2="818.6937"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="132.3" x="750.05" y="815.2942">updatePostIt(postIt, newContent)</text><polygon fill="#181818" points="729.75,858.1398,736.75,860.9398,729.75,863.7398,732.55,860.9398" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="458.85" x2="733.95" y1="860.9398" y2="860.9398"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="262.5" x="463.75" y="857.5403">registerContentBoardModification(board, postIt, cell, newContent)</text><polygon fill="#181818" points="1383.55,879.3859,1390.55,882.1859,1383.55,884.9859,1386.35,882.1859" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1387.75" y1="882.1859" y2="882.1859"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="195.3" x="750.05" y="878.7864">addContentModification(postIt, cell, newContent)</text><polygon fill="#181818" points="1513.75,900.632,1520.75,903.432,1513.75,906.232,1516.55,903.432" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1517.95" y1="903.432" y2="903.432"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="102.9" x="1403.85" y="900.0325">createBoardModification()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1428.35" y1="924.6781" y2="924.6781"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1428.35" x2="1428.35" y1="924.6781" y2="933.7781"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1399.65" x2="1428.35" y1="933.7781" y2="933.7781"/><polygon fill="#181818" points="1406.65,930.9781,1399.65,933.7781,1406.65,936.5781,1403.85,933.7781" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="109.9" x="1403.85" y="921.2786">addBoardModification(mod)</text><polygon fill="#181818" points="1614.2,952.2242,1621.2,955.0242,1614.2,957.8242,1617,955.0242" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="1618.4" y1="955.0242" y2="955.0242"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="951.6247">save(board)</text><polygon fill="#181818" points="752.85,973.4703,745.85,976.2703,752.85,979.0703,750.05,976.2703" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1625.4" y1="976.2703" y2="976.2703"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="757.05" y="972.8708">updatedBoard</text><polygon fill="#181818" points="466.55,994.7164,459.55,997.5164,466.55,1000.3164,463.75,997.5164" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="737.45" y1="997.5164" y2="997.5164"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="470.75" y="994.1169">updatedBoard</text><polygon fill="#181818" points="231.35,1015.9625,224.35,1018.7625,231.35,1021.5625,228.55,1018.7625" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="1018.7625" y2="1018.7625"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="235.55" y="1015.363">updatedBoard</text><polygon fill="#181818" points="33.95,1037.2086,26.95,1040.0086,33.95,1042.8086,31.15,1040.0086" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="1040.0086" y2="1040.0086"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="70.7" x="38.15" y="1036.6091">displays success</text><path d="M7,1055.4086 L49.7,1055.4086 L49.7,1061.2547 L42.7,1068.2547 L7,1068.2547 L7,1055.4086 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0499999999999998;"/><rect fill="none" height="570.5602" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="1055.4086"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="17.5" y="1065.5552">alt</text><text fill="#000000" font-family="FG Virgil" font-size="7.7" font-weight="bold" lengthAdjust="spacing" textLength="83.3" x="60.2" y="1064.8019">[option == placement]</text><polygon fill="#181818" points="208.25,1081.1008,215.25,1083.9008,208.25,1086.7008,211.05,1083.9008" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="1083.9008" y2="1083.9008"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="53.2" x="31.15" y="1080.5013">selects move</text><polygon fill="#181818" points="443.45,1102.3469,450.45,1105.1469,443.45,1107.9469,446.25,1105.1469" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="1105.1469" y2="1105.1469"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="118.3" x="228.55" y="1101.7474">availableCells(boardSelected)</text><polygon fill="#181818" points="1387.05,1123.593,1394.05,1126.393,1387.05,1129.193,1389.85,1126.393" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="1391.25" y1="1126.393" y2="1126.393"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="126" x="463.75" y="1122.9935">availableCells = availableCells()</text><polygon fill="#181818" points="466.55,1144.8391,459.55,1147.6391,466.55,1150.4391,463.75,1147.6391" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="1394.75" y1="1147.6391" y2="1147.6391"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="54.6" x="470.75" y="1144.2396">availableCells</text><polygon fill="#181818" points="231.35,1166.0852,224.35,1168.8852,231.35,1171.6852,228.55,1168.8852" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="1168.8852" y2="1168.8852"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="54.6" x="235.55" y="1165.4856">availableCells</text><polygon fill="#181818" points="33.95,1187.3312,26.95,1190.1312,33.95,1192.9312,31.15,1190.1312" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="1190.1312" y2="1190.1312"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="118.3" x="38.15" y="1186.7317">shows availableCells in board</text><polygon fill="#181818" points="208.25,1208.5773,215.25,1211.3773,208.25,1214.1773,211.05,1211.3773" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="1211.3773" y2="1211.3773"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="129.5" x="31.15" y="1207.9778">selects a cell to place the postIt</text><polygon fill="#181818" points="443.45,1229.8234,450.45,1232.6234,443.45,1235.4234,446.25,1232.6234" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="1232.6234" y2="1232.6234"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="206.5" x="228.55" y="1229.2239">movePostIt(boardSelected, oldCell, newCell, postIt)</text><polygon fill="#181818" points="729.75,1251.0695,736.75,1253.8695,729.75,1256.6695,732.55,1253.8695" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="733.95" y1="1253.8695" y2="1253.8695"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="206.5" x="463.75" y="1250.47">movePostIt(boardSelected, oldCell, newCell, postIt)</text><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="778.05" y1="1271.6156" y2="1271.6156"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="778.05" x2="778.05" y1="1271.6156" y2="1280.7156"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="749.35" x2="778.05" y1="1280.7156" y2="1280.7156"/><polygon fill="#181818" points="756.35,1277.9156,749.35,1280.7156,756.35,1283.5156,753.55,1280.7156" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="123.2" x="753.55" y="1268.2161">deleteSatePostIt(board, postIt)</text><polygon fill="#181818" points="1098.65,1302.6617,1105.65,1305.4617,1098.65,1308.2617,1101.45,1305.4617" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1102.85" y1="1305.4617" y2="1305.4617"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="72.8" x="753.55" y="1302.0622">deleteSatePostIt()</text><polygon fill="#181818" points="1614.2,1344.9078,1621.2,1347.7078,1614.2,1350.5078,1617,1347.7078" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1618.4" y1="1347.7078" y2="1347.7078"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="1344.3083">save(board)</text><polygon fill="#181818" points="1315.65,1387.1539,1322.65,1389.9539,1315.65,1392.7539,1318.45,1389.9539" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1319.85" y1="1389.9539" y2="1389.9539"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="70" x="750.05" y="1386.5544">addMovedPostIt()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="778.05" y1="1428.7" y2="1428.7"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="778.05" x2="778.05" y1="1428.7" y2="1437.8"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="749.35" x2="778.05" y1="1437.8" y2="1437.8"/><polygon fill="#181818" points="756.35,1435,749.35,1437.8,756.35,1440.6,753.55,1437.8" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="274.4" x="753.55" y="1425.3005">registerPlacementBoardModification(board, postIt, oldCell, newCell);</text><polygon fill="#181818" points="1383.55,1459.7461,1390.55,1462.5461,1383.55,1465.3461,1386.35,1462.5461" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1387.75" y1="1462.5461" y2="1462.5461"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="235.9" x="753.55" y="1459.1466">addPlacementModification(createdPostIt, oldCell, newCell)</text><polygon fill="#181818" points="1513.75,1480.9922,1520.75,1483.7922,1513.75,1486.5922,1516.55,1483.7922" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1517.95" y1="1483.7922" y2="1483.7922"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="102.9" x="1403.85" y="1480.3927">createBoardModification()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1428.35" y1="1508.5383" y2="1508.5383"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1428.35" x2="1428.35" y1="1508.5383" y2="1517.6383"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1395.45" x2="1428.35" y1="1517.6383" y2="1517.6383"/><polygon fill="#181818" points="1402.45,1514.8383,1395.45,1517.6383,1402.45,1520.4383,1399.65,1517.6383" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="109.9" x="1403.85" y="1505.1388">addBoardModification(mod)</text><polygon fill="#181818" points="1614.2,1532.5844,1621.2,1535.3844,1614.2,1538.1844,1617,1535.3844" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="1618.4" y1="1535.3844" y2="1535.3844"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="1531.9849">save(board)</text><polygon fill="#181818" points="752.85,1553.8305,745.85,1556.6305,752.85,1559.4305,750.05,1556.6305" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1625.4" y1="1556.6305" y2="1556.6305"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="757.05" y="1553.231">updatedBoard</text><polygon fill="#181818" points="466.55,1575.0766,459.55,1577.8766,466.55,1580.6766,463.75,1577.8766" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="737.45" y1="1577.8766" y2="1577.8766"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="470.75" y="1574.4771">updatedBoard</text><polygon fill="#181818" points="231.35,1596.3227,224.35,1599.1227,231.35,1601.9227,228.55,1599.1227" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="1599.1227" y2="1599.1227"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="235.55" y="1595.7231">updatedBoard</text><polygon fill="#181818" points="33.95,1617.5687,26.95,1620.3687,33.95,1623.1687,31.15,1620.3687" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="1620.3687" y2="1620.3687"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="70.7" x="38.15" y="1616.9692">displays success</text><path d="M7,1635.7687 L49.7,1635.7687 L49.7,1641.6148 L42.7,1648.6148 L7,1648.6148 L7,1635.7687 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0499999999999998;"/><rect fill="none" height="473.4297" style="stroke:#000000;stroke-width:1.0499999999999998;" width="1664.95" x="7" y="1635.7687"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" font-weight="bold" lengthAdjust="spacing" textLength="11.2" x="17.5" y="1645.9153">alt</text><text fill="#000000" font-family="FG Virgil" font-size="7.7" font-weight="bold" lengthAdjust="spacing" textLength="67.2" x="60.2" y="1645.162">[option == delete]</text><polygon fill="#181818" points="208.25,1661.4609,215.25,1664.2609,208.25,1667.0609,211.05,1664.2609" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="26.25" x2="212.45" y1="1664.2609" y2="1664.2609"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56.7" x="31.15" y="1660.8614">selects delete</text><polygon fill="#181818" points="443.45,1682.707,450.45,1685.507,443.45,1688.307,446.25,1685.507" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="223.65" x2="447.65" y1="1685.507" y2="1685.507"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="159.6" x="228.55" y="1682.1075">deletePostIt(boardSelected, cell, postIt)</text><polygon fill="#181818" points="729.75,1703.9531,736.75,1706.7531,729.75,1709.5531,732.55,1706.7531" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="458.85" x2="733.95" y1="1706.7531" y2="1706.7531"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="159.6" x="463.75" y="1703.3536">deletePostIt(boardSelected, cell, postIt)</text><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="778.05" y1="1724.4992" y2="1724.4992"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="778.05" x2="778.05" y1="1724.4992" y2="1733.5992"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="749.35" x2="778.05" y1="1733.5992" y2="1733.5992"/><polygon fill="#181818" points="756.35,1730.7992,749.35,1733.5992,756.35,1736.3992,753.55,1733.5992" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="123.2" x="753.55" y="1721.0997">deleteSatePostIt(board, postIt)</text><polygon fill="#181818" points="1098.65,1755.5453,1105.65,1758.3453,1098.65,1761.1453,1101.45,1758.3453" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1102.85" y1="1758.3453" y2="1758.3453"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="72.8" x="753.55" y="1754.9458">deleteSatePostIt()</text><polygon fill="#181818" points="1614.2,1797.7914,1621.2,1800.5914,1614.2,1803.3914,1617,1800.5914" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1618.4" y1="1800.5914" y2="1800.5914"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="1797.1919">save(board)</text><polygon fill="#181818" points="1158.85,1840.0375,1165.85,1842.8375,1158.85,1845.6375,1161.65,1842.8375" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="745.15" x2="1163.05" y1="1842.8375" y2="1842.8375"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="143.5" x="750.05" y="1839.438">updatedPostIt(postIt, postItContent)</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1174.25" x2="1203.65" y1="1864.0836" y2="1864.0836"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1203.65" x2="1203.65" y1="1864.0836" y2="1873.1836"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1174.95" x2="1203.65" y1="1873.1836" y2="1873.1836"/><polygon fill="#181818" points="1181.95,1870.3836,1174.95,1873.1836,1181.95,1875.9836,1179.15,1873.1836" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="140" x="1179.15" y="1860.6841">cell.latestpostIt.deleteStatePostIt()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="778.05" y1="1894.4297" y2="1894.4297"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="778.05" x2="778.05" y1="1894.4297" y2="1903.5297"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="749.35" x2="778.05" y1="1903.5297" y2="1903.5297"/><polygon fill="#181818" points="756.35,1900.7297,749.35,1903.5297,756.35,1906.3297,753.55,1903.5297" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="352.1" x="753.55" y="1891.0302">registerPrimaryBoardModification(board, createdPostIt, ModificationType.DELETE, cell)</text><polygon fill="#181818" points="1383.55,1942.9758,1390.55,1945.7758,1383.55,1948.5758,1386.35,1945.7758" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1387.75" y1="1945.7758" y2="1945.7758"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="168" x="753.55" y="1942.3763">addDeleteModification(createdPostIt, cell)</text><polygon fill="#181818" points="1513.75,1964.2219,1520.75,1967.0219,1513.75,1969.8219,1516.55,1967.0219" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1517.95" y1="1967.0219" y2="1967.0219"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="102.9" x="1403.85" y="1963.6224">createBoardModification()</text><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1398.95" x2="1428.35" y1="1991.768" y2="1991.768"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1428.35" x2="1428.35" y1="1991.768" y2="2000.868"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="1395.45" x2="1428.35" y1="2000.868" y2="2000.868"/><polygon fill="#181818" points="1402.45,1998.068,1395.45,2000.868,1402.45,2003.668,1399.65,2000.868" style="stroke:#181818;stroke-width:0.6999999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="109.9" x="1403.85" y="1988.3685">addBoardModification(mod)</text><polygon fill="#181818" points="1614.2,2015.8141,1621.2,2018.6141,1614.2,2021.4141,1617,2018.6141" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="745.15" x2="1618.4" y1="2018.6141" y2="2018.6141"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="46.2" x="750.05" y="2015.2146">save(board)</text><polygon fill="#181818" points="752.85,2037.0602,745.85,2039.8602,752.85,2042.6602,750.05,2039.8602" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="748.65" x2="1625.4" y1="2039.8602" y2="2039.8602"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="757.05" y="2036.4606">updatedBoard</text><polygon fill="#181818" points="466.55,2058.3062,459.55,2061.1062,466.55,2063.9062,463.75,2061.1062" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="462.35" x2="737.45" y1="2061.1062" y2="2061.1062"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="470.75" y="2057.7067">updatedBoard</text><polygon fill="#181818" points="231.35,2079.5523,224.35,2082.3523,231.35,2085.1523,228.55,2082.3523" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="227.15" x2="451.15" y1="2082.3523" y2="2082.3523"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="56" x="235.55" y="2078.9528">updatedBoard</text><polygon fill="#181818" points="33.95,2100.7984,26.95,2103.5984,33.95,2106.3984,31.15,2103.5984" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="29.75" x2="215.95" y1="2103.5984" y2="2103.5984"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="70.7" x="38.15" y="2100.1989">displays success</text><!--MD5=[2d2e95ecabe447fa73dd8adce0c82f1c]
@startuml
'http://plantuml.com/skinparam.html
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor User as Actor
participant UpdatePostItUI as UI <<presentation>>
participant UpdatePostItController as Controller <<application>>

participant BoardManagementService as BoardManagementService <<application>>



participant PostIt as postIt <<domain>>
participant Cell as cell <<domain>>
participant newCell as cell2 <<domain>>
participant SharedBoard as SharedBoard <<domain>>
participant "mod : BoardModification" as modification <<domain>>
database boardRepository as BoardRepository <<repository>>



Actor - -> UI: udpates PostIt
activate UI
UI -> Controller: create()
UI -> Controller: sharedBoardsWithWritePermission()
activate Controller
Controller -> Controller : user:currentUser()
Controller -> BoardManagementService: allBoardsBySystemUserWithWritePermission(user)
activate BoardManagementService

BoardManagementService -> BoardRepository: findBySystemUserWithWritePermission(user)
ref over BoardManagementService : SD_findBySystemUserWithWritePermission
activate BoardRepository

BoardRepository - -> BoardManagementService: allUserBoardsWithWritePermissions
deactivate BoardRepository

BoardManagementService - -> Controller: allUserBoardsWithWritePermissions
Controller - -> UI: allUserBoardsWithWritePermissions
UI - -> Actor: lists the boards with write permissions
Actor -> UI: selects a board

UI -> Controller : cellsOfBoardAndUser(boardSelected)
Controller -> Controller : user:currentUser()
Controller -> BoardManagementService : findCellsWithUserPostIts(board, user)

BoardManagementService -> BoardRepository: cellsWithOwnedPostIts = findCellsWithUserPostIts(board, user)
activate BoardRepository
BoardRepository - -> BoardManagementService : cellsWithOwnedPostIts
deactivate BoardRepository
BoardManagementService - -> Controller : cellsWithOwnedPostIts


Controller - -> UI : cellsWithOwnedPostIts


UI - -> Actor : shows cells with postIts owned by the user
Actor -> UI: selects a cell to update PostIt


        UI- ->Actor: show update options


        alt option == content
        Actor - -> UI : selects update content
        UI- ->Actor: asks new content
        Actor - -> UI : inputs new content


        UI -> Controller : updatePostItContent(board, cell, postIt, newContent)

        Controller -> BoardManagementService : updatePostItContent(board, cell, postIt, newContent)
        BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
        activate BoardManagementService
        BoardManagementService - -> postIt : deleteSatePostIt()
        activate postIt
           deactivate BoardManagementService
        deactivate postIt
        BoardManagementService - -> BoardRepository : save(board)

        activate BoardRepository
        deactivate BoardRepository
        BoardManagementService - -> cell : updatePostIt(postIt, newContent)
        activate cell
        deactivate cell
       Controller - -> BoardManagementService : registerContentBoardModification(board, postIt, cell, newContent)
        BoardManagementService - -> SharedBoard : addContentModification(postIt, cell, newContent)
       activate SharedBoard
       SharedBoard - -> modification : createBoardModification()
       SharedBoard - -> SharedBoard : addBoardModification(mod)

        
        BoardManagementService -> BoardRepository: save(board)
        deactivate SharedBoard
             activate BoardRepository

         BoardRepository - - -> BoardManagementService : updatedBoard
      deactivate BoardRepository


         BoardManagementService - -> Controller : updatedBoard
          Controller - -> UI : updatedBoard

         UI - -> Actor : displays success
end

alt option == placement
        Actor - -> UI :  selects move
                UI -> Controller : availableCells(boardSelected)
                                 Controller -> SharedBoard : availableCells = availableCells()


                                 SharedBoard - - -> Controller : availableCells
                                 Controller - - -> UI : availableCells
         UI - -> Actor : shows availableCells in board


         Actor - -> UI :  selects a cell to place the postIt
                        UI -> Controller : movePostIt(boardSelected, oldCell, newCell, postIt)
                                         Controller -> BoardManagementService : movePostIt(boardSelected, oldCell, newCell, postIt)

                                          BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
                                          activate BoardManagementService
                                               BoardManagementService - -> postIt : deleteSatePostIt()
                                               activate postIt
                                               deactivate postIt
                                               deactivate BoardManagementService
                                               BoardManagementService - -> BoardRepository : save(board)
                                               activate BoardRepository
                                               deactivate BoardRepository
                                               BoardManagementService - -> cell2 : addMovedPostIt()
                                                activate cell2
                                                deactivate cell2
                                              BoardManagementService - -> BoardManagementService : registerPlacementBoardModification(board, postIt, oldCell, newCell);
                                              activate BoardManagementService
                                               BoardManagementService - -> SharedBoard : addPlacementModification(createdPostIt, oldCell, newCell)
                                              activate SharedBoard

                                              SharedBoard - -> modification : createBoardModification()
                                              SharedBoard - -> SharedBoard : addBoardModification(mod)
                                               deactivate BoardManagementService
  BoardManagementService -> BoardRepository: save(board)
  deactivate SharedBoard
             activate BoardRepository

         BoardRepository - - -> BoardManagementService : updatedBoard
      deactivate BoardRepository


         BoardManagementService - -> Controller : updatedBoard
          Controller - -> UI : updatedBoard

         UI - -> Actor : displays success
          end




          alt option == delete
                  Actor - -> UI :  selects delete
                          UI -> Controller : deletePostIt(boardSelected, cell, postIt)

                                                   Controller -> BoardManagementService : deletePostIt(boardSelected, cell, postIt)

                                                    BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
                                                    activate BoardManagementService
                                                         BoardManagementService - -> postIt : deleteSatePostIt()

                                                         activate postIt
                                                         deactivate postIt
                                                         deactivate BoardManagementService
                                                         BoardManagementService - -> BoardRepository : save(board)
                                                         activate BoardRepository
                                                         deactivate BoardRepository
                                                         BoardManagementService - -> cell : updatedPostIt(postIt, postItContent)
                                                         activate cell
                                                         cell - -> cell : cell.latestpostIt.deleteStatePostIt()

                                                       BoardManagementService - -> BoardManagementService : registerPrimaryBoardModification(board, createdPostIt, ModificationType.DELETE, cell)
                                                       activate BoardManagementService
                                                         deactivate cell
                                                        BoardManagementService - -> SharedBoard : addDeleteModification(createdPostIt, cell)
                                                        activate SharedBoard
                                                       SharedBoard - -> modification : createBoardModification()
                                                       SharedBoard - -> SharedBoard : addBoardModification(mod)
                                                       deactivate BoardManagementService
                                                        BoardManagementService -> BoardRepository: save(board)
                                                        deactivate SharedBoard
                                                                   activate BoardRepository

                                                               BoardRepository - - -> BoardManagementService : updatedBoard
                                                            deactivate BoardRepository


                                                               BoardManagementService - -> Controller : updatedBoard
                                                                Controller - -> UI : updatedBoard

                                                               UI - -> Actor : displays success
                    end

         deactivate Controller
deactivate UI
@enduml

@startuml
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor User as Actor
participant UpdatePostItUI as UI <<presentation>>
participant UpdatePostItController as Controller <<application>>

participant BoardManagementService as BoardManagementService <<application>>



participant PostIt as postIt <<domain>>
participant Cell as cell <<domain>>
participant newCell as cell2 <<domain>>
participant SharedBoard as SharedBoard <<domain>>
participant "mod : BoardModification" as modification <<domain>>
database boardRepository as BoardRepository <<repository>>



Actor - -> UI: udpates PostIt
activate UI
UI -> Controller: create()
UI -> Controller: sharedBoardsWithWritePermission()
activate Controller
Controller -> Controller : user:currentUser()
Controller -> BoardManagementService: allBoardsBySystemUserWithWritePermission(user)
activate BoardManagementService

BoardManagementService -> BoardRepository: findBySystemUserWithWritePermission(user)
ref over BoardManagementService : SD_findBySystemUserWithWritePermission
activate BoardRepository

BoardRepository - -> BoardManagementService: allUserBoardsWithWritePermissions
deactivate BoardRepository

BoardManagementService - -> Controller: allUserBoardsWithWritePermissions
Controller - -> UI: allUserBoardsWithWritePermissions
UI - -> Actor: lists the boards with write permissions
Actor -> UI: selects a board

UI -> Controller : cellsOfBoardAndUser(boardSelected)
Controller -> Controller : user:currentUser()
Controller -> BoardManagementService : findCellsWithUserPostIts(board, user)

BoardManagementService -> BoardRepository: cellsWithOwnedPostIts = findCellsWithUserPostIts(board, user)
activate BoardRepository
BoardRepository - -> BoardManagementService : cellsWithOwnedPostIts
deactivate BoardRepository
BoardManagementService - -> Controller : cellsWithOwnedPostIts


Controller - -> UI : cellsWithOwnedPostIts


UI - -> Actor : shows cells with postIts owned by the user
Actor -> UI: selects a cell to update PostIt


        UI- ->Actor: show update options


        alt option == content
        Actor - -> UI : selects update content
        UI- ->Actor: asks new content
        Actor - -> UI : inputs new content


        UI -> Controller : updatePostItContent(board, cell, postIt, newContent)

        Controller -> BoardManagementService : updatePostItContent(board, cell, postIt, newContent)
        BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
        activate BoardManagementService
        BoardManagementService - -> postIt : deleteSatePostIt()
        activate postIt
           deactivate BoardManagementService
        deactivate postIt
        BoardManagementService - -> BoardRepository : save(board)

        activate BoardRepository
        deactivate BoardRepository
        BoardManagementService - -> cell : updatePostIt(postIt, newContent)
        activate cell
        deactivate cell
       Controller - -> BoardManagementService : registerContentBoardModification(board, postIt, cell, newContent)
        BoardManagementService - -> SharedBoard : addContentModification(postIt, cell, newContent)
       activate SharedBoard
       SharedBoard - -> modification : createBoardModification()
       SharedBoard - -> SharedBoard : addBoardModification(mod)

        
        BoardManagementService -> BoardRepository: save(board)
        deactivate SharedBoard
             activate BoardRepository

         BoardRepository - - -> BoardManagementService : updatedBoard
      deactivate BoardRepository


         BoardManagementService - -> Controller : updatedBoard
          Controller - -> UI : updatedBoard

         UI - -> Actor : displays success
end

alt option == placement
        Actor - -> UI :  selects move
                UI -> Controller : availableCells(boardSelected)
                                 Controller -> SharedBoard : availableCells = availableCells()


                                 SharedBoard - - -> Controller : availableCells
                                 Controller - - -> UI : availableCells
         UI - -> Actor : shows availableCells in board


         Actor - -> UI :  selects a cell to place the postIt
                        UI -> Controller : movePostIt(boardSelected, oldCell, newCell, postIt)
                                         Controller -> BoardManagementService : movePostIt(boardSelected, oldCell, newCell, postIt)

                                          BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
                                          activate BoardManagementService
                                               BoardManagementService - -> postIt : deleteSatePostIt()
                                               activate postIt
                                               deactivate postIt
                                               deactivate BoardManagementService
                                               BoardManagementService - -> BoardRepository : save(board)
                                               activate BoardRepository
                                               deactivate BoardRepository
                                               BoardManagementService - -> cell2 : addMovedPostIt()
                                                activate cell2
                                                deactivate cell2
                                              BoardManagementService - -> BoardManagementService : registerPlacementBoardModification(board, postIt, oldCell, newCell);
                                              activate BoardManagementService
                                               BoardManagementService - -> SharedBoard : addPlacementModification(createdPostIt, oldCell, newCell)
                                              activate SharedBoard

                                              SharedBoard - -> modification : createBoardModification()
                                              SharedBoard - -> SharedBoard : addBoardModification(mod)
                                               deactivate BoardManagementService
  BoardManagementService -> BoardRepository: save(board)
  deactivate SharedBoard
             activate BoardRepository

         BoardRepository - - -> BoardManagementService : updatedBoard
      deactivate BoardRepository


         BoardManagementService - -> Controller : updatedBoard
          Controller - -> UI : updatedBoard

         UI - -> Actor : displays success
          end




          alt option == delete
                  Actor - -> UI :  selects delete
                          UI -> Controller : deletePostIt(boardSelected, cell, postIt)

                                                   Controller -> BoardManagementService : deletePostIt(boardSelected, cell, postIt)

                                                    BoardManagementService -> BoardManagementService : deleteSatePostIt(board, postIt)
                                                    activate BoardManagementService
                                                         BoardManagementService - -> postIt : deleteSatePostIt()

                                                         activate postIt
                                                         deactivate postIt
                                                         deactivate BoardManagementService
                                                         BoardManagementService - -> BoardRepository : save(board)
                                                         activate BoardRepository
                                                         deactivate BoardRepository
                                                         BoardManagementService - -> cell : updatedPostIt(postIt, postItContent)
                                                         activate cell
                                                         cell - -> cell : cell.latestpostIt.deleteStatePostIt()

                                                       BoardManagementService - -> BoardManagementService : registerPrimaryBoardModification(board, createdPostIt, ModificationType.DELETE, cell)
                                                       activate BoardManagementService
                                                         deactivate cell
                                                        BoardManagementService - -> SharedBoard : addDeleteModification(createdPostIt, cell)
                                                        activate SharedBoard
                                                       SharedBoard - -> modification : createBoardModification()
                                                       SharedBoard - -> SharedBoard : addBoardModification(mod)
                                                       deactivate BoardManagementService
                                                        BoardManagementService -> BoardRepository: save(board)
                                                        deactivate SharedBoard
                                                                   activate BoardRepository

                                                               BoardRepository - - -> BoardManagementService : updatedBoard
                                                            deactivate BoardRepository


                                                               BoardManagementService - -> Controller : updatedBoard
                                                                Controller - -> UI : updatedBoard

                                                               UI - -> Actor : displays success
                    end

         deactivate Controller
deactivate UI
@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>