<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="373.8px" preserveAspectRatio="none" style="width:729px;height:373px;background:#FFFFFF;" version="1.1" viewBox="0 0 729 373" width="729.4px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="210.5687" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="107.8" y="82.9992"/><rect fill="#FFFFFF" height="168.0766" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="199.85" y="125.4914"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="468.65" y="146.7375"/><rect fill="#FFFFFF" height="89.6383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="585.9" y="210.2297"/><rect fill="#FFFFFF" height="9.8" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="689.15" y="231.4758"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="25.2" x2="25.2" y1="60.3531" y2="306.168"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="110.95" x2="110.95" y1="60.3531" y2="306.168"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="203.35" x2="203.35" y1="60.3531" y2="306.168"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="471.8" x2="471.8" y1="60.3531" y2="306.168"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="589.4" x2="589.4" y1="60.3531" y2="306.168"/><line style="stroke:#181818;stroke-width:0.3499999999999999;stroke-dasharray:5.0,5.0;" x1="692.3" x2="692.3" y1="60.3531" y2="306.168"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="39.2" x="3.5" y="58.1998">Manager</text><ellipse cx="25.2" cy="11.9766" fill="#E2E2F0" rx="5.6" ry="5.6" style="stroke:#181818;stroke-width:0.3499999999999999;"/><path d="M25.2,17.5766 L25.2,36.4766 M16.1,23.1766 L34.3,23.1766 M25.2,36.4766 L16.1,46.9766 M25.2,36.4766 L34.3,46.9766 " fill="none" style="stroke:#181818;stroke-width:0.3499999999999999;"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="39.2" x="3.5" y="315.6412">Manager</text><ellipse cx="25.2" cy="323.7445" fill="#E2E2F0" rx="5.6" ry="5.6" style="stroke:#181818;stroke-width:0.3499999999999999;"/><path d="M25.2,329.3445 L25.2,348.2445 M16.1,334.9445 L34.3,334.9445 M25.2,348.2445 L16.1,358.7445 M25.2,348.2445 L34.3,358.7445 " fill="none" style="stroke:#181818;stroke-width:0.3499999999999999;"/><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="76.3" x="73.15" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="66.5" x="78.05" y="40.2732">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="49" x="86.8" y="52.5998">ListUsersUI</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="76.3" x="73.15" y="305.468"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="66.5" x="78.05" y="320.5412">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="49" x="86.8" y="332.8678">ListUsersUI</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="93.8" x="156.45" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="173.95" y="40.2732">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="84" x="161.35" y="52.5998">ListUsersController</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="93.8" x="156.45" y="305.468"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="173.95" y="320.5412">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="84" x="161.35" y="332.8678">ListUsersController</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="100.1" x="422.1" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="442.75" y="40.2732">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="90.3" x="427" y="52.5998">AuthorizationService</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="100.1" x="422.1" y="305.468"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="442.75" y="320.5412">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="90.3" x="427" y="332.8678">AuthorizationService</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="120.4" x="529.2" y="25.2"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="560" y="40.2732">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="110.6" x="534.1" y="52.5998">UserManagementService</text><rect fill="#E2E2F0" height="34.4531" rx="1.75" ry="1.75" style="stroke:#181818;stroke-width:0.3499999999999999;" width="120.4" x="529.2" y="305.468"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="58.8" x="560" y="320.5412">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="110.6" x="534.1" y="332.8678">UserManagementService</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="662.9" y="45.8732">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="67.9" x="656.6" y="58.1998">UserRepository</text><path d="M680.05,10.5 C680.05,3.5 692.65,3.5 692.65,3.5 C692.65,3.5 705.25,3.5 705.25,10.5 L705.25,28.7 C705.25,35.7 692.65,35.7 692.65,35.7 C692.65,35.7 680.05,35.7 680.05,28.7 L680.05,10.5 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M680.05,10.5 C680.05,17.5 692.65,17.5 692.65,17.5 C692.65,17.5 705.25,17.5 705.25,10.5 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><text fill="#000000" font-family="FG Virgil" font-size="9.8" font-style="italic" lengthAdjust="spacing" textLength="55.3" x="662.9" y="315.6412">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="9.8" lengthAdjust="spacing" textLength="67.9" x="656.6" y="327.9678">UserRepository</text><path d="M680.05,337.1211 C680.05,330.1211 692.65,330.1211 692.65,330.1211 C692.65,330.1211 705.25,330.1211 705.25,337.1211 L705.25,355.3211 C705.25,362.3211 692.65,362.3211 692.65,362.3211 C692.65,362.3211 680.05,362.3211 680.05,355.3211 L680.05,337.1211 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.0499999999999998;"/><path d="M680.05,337.1211 C680.05,344.1211 692.65,344.1211 692.65,344.1211 C692.65,344.1211 705.25,344.1211 705.25,337.1211 " fill="none" style="stroke:#181818;stroke-width:1.0499999999999998;"/><rect fill="#FFFFFF" height="210.5687" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="107.8" y="82.9992"/><rect fill="#FFFFFF" height="168.0766" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="199.85" y="125.4914"/><rect fill="#FFFFFF" height="21" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="468.65" y="146.7375"/><rect fill="#FFFFFF" height="89.6383" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="585.9" y="210.2297"/><rect fill="#FFFFFF" height="9.8" style="stroke:#181818;stroke-width:0.6999999999999998;" width="7" x="689.15" y="231.4758"/><polygon fill="#181818" points="99.4,80.1992,106.4,82.9992,99.4,85.7992,102.2,82.9992" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="25.2" x2="103.6" y1="82.9992" y2="82.9992"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="41.3" x="30.1" y="79.5997">List Users</text><polygon fill="#181818" points="194.95,101.4453,201.95,104.2453,194.95,107.0453,197.75,104.2453" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="114.8" x2="199.15" y1="104.2453" y2="104.2453"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="25.2" x="119.7" y="100.8458">create</text><polygon fill="#181818" points="191.45,122.6914,198.45,125.4914,191.45,128.2914,194.25,125.4914" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="114.8" x2="195.65" y1="125.4914" y2="125.4914"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="38.5" x="119.7" y="122.0919">allUsers()</text><polygon fill="#181818" points="460.25,143.9375,467.25,146.7375,460.25,149.5375,463.05,146.7375" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="206.85" x2="464.45" y1="146.7375" y2="146.7375"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="248.5" x="211.75" y="143.338">ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)</text><polygon fill="#181818" points="581,186.1836,588,188.9836,581,191.7836,583.8,188.9836" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="206.85" x2="585.2" y1="188.9836" y2="188.9836"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="25.2" x="211.75" y="185.5841">create</text><polygon fill="#181818" points="577.5,207.4297,584.5,210.2297,577.5,213.0297,580.3,210.2297" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="206.85" x2="581.7" y1="210.2297" y2="210.2297"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="38.5" x="211.75" y="206.8302">allUsers()</text><polygon fill="#181818" points="680.75,228.6758,687.75,231.4758,680.75,234.2758,683.55,231.4758" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;" x1="592.9" x2="684.95" y1="231.4758" y2="231.4758"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="73.5" x="597.8" y="228.0763">users = findbyAll()</text><polygon fill="#181818" points="600.6,238.4758,593.6,241.2758,600.6,244.0758,597.8,241.2758" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="596.4" x2="691.95" y1="241.2758" y2="241.2758"/><polygon fill="#181818" points="214.55,248.2758,207.55,251.0758,214.55,253.8758,211.75,251.0758" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="210.35" x2="585.2" y1="251.0758" y2="251.0758"/><polygon fill="#181818" points="122.5,269.5219,115.5,272.3219,122.5,275.1219,119.7,272.3219" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="118.3" x2="199.15" y1="272.3219" y2="272.3219"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="22.4" x="126.7" y="268.9224">users</text><polygon fill="#181818" points="32.9,290.768,25.9,293.568,32.9,296.368,30.1,293.568" style="stroke:#181818;stroke-width:0.6999999999999998;"/><line style="stroke:#181818;stroke-width:0.6999999999999998;stroke-dasharray:2.0,2.0;" x1="28.7" x2="110.6" y1="293.568" y2="293.568"/><text fill="#000000" font-family="FG Virgil" font-size="9.1" lengthAdjust="spacing" textLength="65.8" x="37.1" y="290.1685">shows users list</text><!--MD5=[50f93f954e6732a281fad279b7fb11c8]
@startuml
'http://plantuml.com/skinparam.html
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor Manager as Actor
participant ListUsersUI as UI <<presentation>>
participant ListUsersController as Controller <<application>>
participant AuthorizationService  as authz <<application>>
participant UserManagementService as userSvc <<application>>


database UserRepository as Repository <<repository>>


Actor - -> UI: List Users
activate UI
    UI -> Controller: create

    UI -> Controller: allUsers()
    activate Controller

        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
        activate authz
        deactivate authz
        Controller - -> userSvc : create


Controller -> userSvc : allUsers()
activate userSvc
            userSvc -> Repository: users = findbyAll()
            activate Repository

            Repository - -> userSvc
            deactivate Repository
            userSvc - -> Controller
            Controller - -> UI : users

        UI- ->Actor: shows users list

         deactivate Controller
deactivate UI
@enduml

@startuml
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor Manager as Actor
participant ListUsersUI as UI <<presentation>>
participant ListUsersController as Controller <<application>>
participant AuthorizationService  as authz <<application>>
participant UserManagementService as userSvc <<application>>


database UserRepository as Repository <<repository>>


Actor - -> UI: List Users
activate UI
    UI -> Controller: create

    UI -> Controller: allUsers()
    activate Controller

        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
        activate authz
        deactivate authz
        Controller - -> userSvc : create


Controller -> userSvc : allUsers()
activate userSvc
            userSvc -> Repository: users = findbyAll()
            activate Repository

            Repository - -> userSvc
            deactivate Repository
            userSvc - -> Controller
            Controller - -> UI : users

        UI- ->Actor: shows users list

         deactivate Controller
deactivate UI
@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>