<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="655.2px" preserveAspectRatio="none" style="width:1032px;height:655px;background:#FFFFFF;" version="1.1" viewBox="0 0 1032 655" width="1032.8px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="468.2188" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="128.8" y="94.8563"/><rect fill="#FFFFFF" height="419.6563" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="254.4" y="143.4188"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="561.6" y="167.7"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="561.6" y="408.35"/><rect fill="#FFFFFF" height="330.0125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="695.6" y="240.2625"/><rect fill="#FFFFFF" height="11.2" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="986.8" y="264.5438"/><rect fill="#FFFFFF" height="11.2" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="986.8" y="505.1938"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="28.8" x2="28.8" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="132.8" x2="132.8" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="258.4" x2="258.4" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="565.2" x2="565.2" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="699.6" x2="699.6" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="905.6" x2="905.6" y1="68.975" y2="577.475"/><line style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:5.0,5.0;" x1="990.4" x2="990.4" y1="68.975" y2="577.475"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="44.8" x="4" y="66.5141">Manager</text><ellipse cx="28.8" cy="13.6875" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M28.8,20.0875 L28.8,41.6875 M18.4,26.4875 L39.2,26.4875 M28.8,41.6875 L18.4,53.6875 M28.8,41.6875 L39.2,53.6875 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="44.8" x="4" y="588.3016">Manager</text><ellipse cx="28.8" cy="597.5625" fill="#E2E2F0" rx="6.4" ry="6.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M28.8,603.9625 L28.8,625.5625 M18.4,610.3625 L39.2,610.3625 M28.8,625.5625 L18.4,637.5625 M28.8,625.5625 L39.2,637.5625 " fill="none" style="stroke:#181818;stroke-width:0.4000000000000001;"/><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="97.6" x="84" y="28.8"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="76" x="94.8" y="46.0266">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="86.4" x="89.6" y="60.1141">DecativateUserUI</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="97.6" x="84" y="576.675"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="76" x="94.8" y="593.9016">«presentation»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="86.4" x="89.6" y="607.9891">DecativateUserUI</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="137.6" x="189.6" y="28.8"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="224.8" y="46.0266">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="126.4" x="195.2" y="60.1141">DecativateUserController</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="137.6" x="189.6" y="576.675"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="224.8" y="593.9016">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="126.4" x="195.2" y="607.9891">DecativateUserController</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="114.4" x="508.4" y="28.8"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="532" y="46.0266">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="103.2" x="514" y="60.1141">AuthorizationService</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="114.4" x="508.4" y="576.675"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="532" y="593.9016">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="103.2" x="514" y="607.9891">AuthorizationService</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="137.6" x="630.8" y="28.8"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="666" y="46.0266">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="126.4" x="636.4" y="60.1141">UserManagementService</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="137.6" x="630.8" y="576.675"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="67.2" x="666" y="593.9016">«application»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="126.4" x="636.4" y="607.9891">UserManagementService</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="71.2" x="870.4" y="28.8"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="49.6" x="881.2" y="46.0266">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="60" x="876" y="60.1141">SystemUser</text><rect fill="#E2E2F0" height="39.375" rx="2" ry="2" style="stroke:#181818;stroke-width:0.4000000000000001;" width="71.2" x="870.4" y="576.675"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="49.6" x="881.2" y="593.9016">«domain»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="60" x="876" y="607.9891">SystemUser</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="63.2" x="956.8" y="52.4266">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="77.6" x="949.6" y="66.5141">UserRepository</text><path d="M976.4,12 C976.4,4 990.8,4 990.8,4 C990.8,4 1005.2,4 1005.2,12 L1005.2,32.8 C1005.2,40.8 990.8,40.8 990.8,40.8 C990.8,40.8 976.4,40.8 976.4,32.8 L976.4,12 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2000000000000002;"/><path d="M976.4,12 C976.4,20 990.8,20 990.8,20 C990.8,20 1005.2,20 1005.2,12 " fill="none" style="stroke:#181818;stroke-width:1.2000000000000002;"/><text fill="#000000" font-family="FG Virgil" font-size="11.2" font-style="italic" lengthAdjust="spacing" textLength="63.2" x="956.8" y="588.3016">«repository»</text><text fill="#000000" font-family="FG Virgil" font-size="11.2" lengthAdjust="spacing" textLength="77.6" x="949.6" y="602.3891">UserRepository</text><path d="M976.4,612.85 C976.4,604.85 990.8,604.85 990.8,604.85 C990.8,604.85 1005.2,604.85 1005.2,612.85 L1005.2,633.65 C1005.2,641.65 990.8,641.65 990.8,641.65 C990.8,641.65 976.4,641.65 976.4,633.65 L976.4,612.85 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.2000000000000002;"/><path d="M976.4,612.85 C976.4,620.85 990.8,620.85 990.8,620.85 C990.8,620.85 1005.2,620.85 1005.2,612.85 " fill="none" style="stroke:#181818;stroke-width:1.2000000000000002;"/><rect fill="#FFFFFF" height="468.2188" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="128.8" y="94.8563"/><rect fill="#FFFFFF" height="419.6563" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="254.4" y="143.4188"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="561.6" y="167.7"/><rect fill="#FFFFFF" height="24" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="561.6" y="408.35"/><rect fill="#FFFFFF" height="330.0125" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="695.6" y="240.2625"/><rect fill="#FFFFFF" height="11.2" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="986.8" y="264.5438"/><rect fill="#FFFFFF" height="11.2" style="stroke:#181818;stroke-width:0.8000000000000002;" width="8" x="986.8" y="505.1938"/><polygon fill="#181818" points="119.2,91.6563,127.2,94.8563,119.2,98.0563,122.4,94.8563" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="28.8" x2="124" y1="94.8563" y2="94.8563"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="72.8" x="34.4" y="90.9711">Deactivate User</text><polygon fill="#181818" points="248.8,115.9375,256.8,119.1375,248.8,122.3375,252,119.1375" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="136.8" x2="253.6" y1="119.1375" y2="119.1375"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="28.8" x="142.4" y="115.2523">create</text><polygon fill="#181818" points="244.8,140.2188,252.8,143.4188,244.8,146.6188,248,143.4188" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="136.8" x2="249.6" y1="143.4188" y2="143.4188"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="60" x="142.4" y="139.5336">activeUsers()</text><polygon fill="#181818" points="552,164.5,560,167.7,552,170.9,555.2,167.7" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="262.4" x2="556.8" y1="167.7" y2="167.7"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="284" x="268" y="163.8148">ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)</text><polygon fill="#181818" points="690,212.7813,698,215.9813,690,219.1813,693.2,215.9813" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="262.4" x2="694.8" y1="215.9813" y2="215.9813"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="28.8" x="268" y="212.0961">create</text><polygon fill="#181818" points="686,237.0625,694,240.2625,686,243.4625,689.2,240.2625" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="262.4" x2="690.8" y1="240.2625" y2="240.2625"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="60" x="268" y="236.3773">activeUsers()</text><polygon fill="#181818" points="977.2,261.3438,985.2,264.5438,977.2,267.7438,980.4,264.5438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="703.6" x2="982" y1="264.5438" y2="264.5438"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="145.6" x="709.2" y="260.6586">activeUsers = findbyActive(true)</text><polygon fill="#181818" points="712.4,272.5438,704.4,275.7438,712.4,278.9438,709.2,275.7438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="707.6" x2="990" y1="275.7438" y2="275.7438"/><polygon fill="#181818" points="271.2,283.7438,263.2,286.9438,271.2,290.1438,268,286.9438" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="266.4" x2="694.8" y1="286.9438" y2="286.9438"/><polygon fill="#181818" points="145.6,308.025,137.6,311.225,145.6,314.425,142.4,311.225" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="140.8" x2="253.6" y1="311.225" y2="311.225"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="53.6" x="150.4" y="307.3398">activeUsers</text><polygon fill="#181818" points="37.6,332.3063,29.6,335.5063,37.6,338.7063,34.4,335.5063" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32.8" x2="128" y1="335.5063" y2="335.5063"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="72" x="42.4" y="331.6211">list active users</text><polygon fill="#181818" points="119.2,356.5875,127.2,359.7875,119.2,362.9875,122.4,359.7875" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="28.8" x2="124" y1="359.7875" y2="359.7875"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="56.8" x="34.4" y="355.9023">selects user</text><polygon fill="#181818" points="244.8,380.8688,252.8,384.0688,244.8,387.2688,248,384.0688" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="136.8" x2="249.6" y1="384.0688" y2="384.0688"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="142.4" y="380.1836">deactivateUser(user)</text><polygon fill="#181818" points="552,405.15,560,408.35,552,411.55,555.2,408.35" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="262.4" x2="556.8" y1="408.35" y2="408.35"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="284" x="268" y="404.4648">ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)</text><polygon fill="#181818" points="686,453.4313,694,456.6313,686,459.8313,689.2,456.6313" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="262.4" x2="690.8" y1="456.6313" y2="456.6313"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="94.4" x="268" y="452.7461">deactivateUser(user)</text><polygon fill="#181818" points="896.4,477.7125,904.4,480.9125,896.4,484.1125,899.6,480.9125" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="703.6" x2="901.2" y1="480.9125" y2="480.9125"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="183.2" x="709.2" y="477.0273">deactivate(CurrentTimeCalendars.now())</text><polygon fill="#181818" points="977.2,501.9938,985.2,505.1938,977.2,508.3938,980.4,505.1938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;" x1="703.6" x2="982" y1="505.1938" y2="505.1938"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="47.2" x="709.2" y="501.3086">save(user)</text><polygon fill="#181818" points="712.4,513.1938,704.4,516.3938,712.4,519.5938,709.2,516.3938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="707.6" x2="990" y1="516.3938" y2="516.3938"/><polygon fill="#181818" points="271.2,524.3938,263.2,527.5938,271.2,530.7938,268,527.5938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="266.4" x2="694.8" y1="527.5938" y2="527.5938"/><polygon fill="#181818" points="145.6,535.5938,137.6,538.7938,145.6,541.9938,142.4,538.7938" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="140.8" x2="253.6" y1="538.7938" y2="538.7938"/><polygon fill="#181818" points="37.6,559.875,29.6,563.075,37.6,566.275,34.4,563.075" style="stroke:#181818;stroke-width:0.8000000000000002;"/><line style="stroke:#181818;stroke-width:0.8000000000000002;stroke-dasharray:2.0,2.0;" x1="32.8" x2="132" y1="563.075" y2="563.075"/><text fill="#000000" font-family="FG Virgil" font-size="10.4" lengthAdjust="spacing" textLength="80.8" x="42.4" y="559.1898">displays success</text><!--MD5=[4e3da80ed5145d456a519dbea587c816]
@startuml
'http://plantuml.com/skinparam.html
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor Manager as Actor
participant DecativateUserUI as UI <<presentation>>
participant DecativateUserController as Controller <<application>>
participant AuthorizationService  as authz <<application>>
participant UserManagementService as userSvc <<application>>
participant SystemUser as user <<domain>>
database UserRepository as Repository <<repository>>


Actor - -> UI: Deactivate User
activate UI
    UI -> Controller: create

    UI -> Controller: activeUsers()
    activate Controller

        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
        activate authz
        deactivate authz
        Controller - -> userSvc : create


Controller -> userSvc : activeUsers()
   activate userSvc
            userSvc -> Repository: activeUsers = findbyActive(true)
            activate Repository

            Repository - -> userSvc
            deactivate Repository
            userSvc - -> Controller
            Controller - -> UI : activeUsers





        UI- ->Actor: list active users

        Actor - -> UI : selects user
        UI -> Controller : deactivateUser(user)
        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
                activate authz
                deactivate authz
        Controller -> userSvc : deactivateUser(user)
        userSvc ->  user : deactivate(CurrentTimeCalendars.now())
        userSvc ->  Repository : save(user)
        activate Repository
        Repository - -> userSvc
        deactivate Repository
         userSvc - ->  Controller
         Controller - -> UI
         UI - -> Actor : displays success

         deactivate Controller
deactivate UI
@enduml

@startuml
skinparam handwritten false
skinparam packageStyle rect
skinparam defaultFontName FG Virgil
skinparam shadowing false

actor Manager as Actor
participant DecativateUserUI as UI <<presentation>>
participant DecativateUserController as Controller <<application>>
participant AuthorizationService  as authz <<application>>
participant UserManagementService as userSvc <<application>>
participant SystemUser as user <<domain>>
database UserRepository as Repository <<repository>>


Actor - -> UI: Deactivate User
activate UI
    UI -> Controller: create

    UI -> Controller: activeUsers()
    activate Controller

        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
        activate authz
        deactivate authz
        Controller - -> userSvc : create


Controller -> userSvc : activeUsers()
   activate userSvc
            userSvc -> Repository: activeUsers = findbyActive(true)
            activate Repository

            Repository - -> userSvc
            deactivate Repository
            userSvc - -> Controller
            Controller - -> UI : activeUsers





        UI- ->Actor: list active users

        Actor - -> UI : selects user
        UI -> Controller : deactivateUser(user)
        Controller -> authz: ensureAuthenticatedUserHasAnyOf(ADMIN, POWER_USER)
                activate authz
                deactivate authz
        Controller -> userSvc : deactivateUser(user)
        userSvc ->  user : deactivate(CurrentTimeCalendars.now())
        userSvc ->  Repository : save(user)
        activate Repository
        Repository - -> userSvc
        deactivate Repository
         userSvc - ->  Controller
         Controller - -> UI
         UI - -> Actor : displays success

         deactivate Controller
deactivate UI
@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>