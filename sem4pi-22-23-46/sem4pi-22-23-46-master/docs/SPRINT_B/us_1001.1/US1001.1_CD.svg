<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="778.4px" preserveAspectRatio="none" style="width:865px;height:778px;background:#FFFFFF;" version="1.1" viewBox="0 0 865 778" width="865.6px" zoomAndPan="magnify"><defs/><g><!--MD5=[3dcf69e4e87a10af00fce8354034ba4c]
cluster presentation--><g id="cluster_presentation"><path d="M176.6,2.4 L213,2.4 A1.5,1.5 0 0 1 214,3.4 L216.8,11.8438 L294.6,11.8438 A1,1 0 0 1 295.6,12.8438 L295.6,67 A1,1 0 0 1 294.6,68 L176.6,68 A1,1 0 0 1 175.6,67 L175.6,3.4 A1,1 0 0 1 176.6,2.4 " fill="#DDDDDD" style="stroke:#000000;stroke-width:0.6000000000000001;"/><line style="stroke:#000000;stroke-width:0.6000000000000001;" x1="175.6" x2="216.8" y1="11.8438" y2="11.8438"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-weight="bold" lengthAdjust="spacing" textLength="36" x="177.2" y="9.0133">presentation</text></g><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><g id="cluster_domain"><path d="M479.4,326 L500.2,326 A1.5,1.5 0 0 1 501.2,327 L504,335.4438 L772.2,335.4438 A1,1 0 0 1 773.2,336.4438 L773.2,774.6 A1,1 0 0 1 772.2,775.6 L479.4,775.6 A1,1 0 0 1 478.4,774.6 L478.4,327 A1,1 0 0 1 479.4,326 " fill="#DBD8AE" style="stroke:#000000;stroke-width:0.6000000000000001;"/><line style="stroke:#000000;stroke-width:0.6000000000000001;" x1="478.4" x2="504" y1="335.4438" y2="335.4438"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-weight="bold" lengthAdjust="spacing" textLength="20.4" x="480" y="332.6133">domain</text></g><!--MD5=[0334151241c2df87d13997940bbf650c]
cluster persistence--><g id="cluster_persistence"><path d="M783.8,366.8 L817.8,366.8 A1.5,1.5 0 0 1 818.8,367.8 L821.6,376.2438 L861.8,376.2438 A1,1 0 0 1 862.8,377.2438 L862.8,413 A1,1 0 0 1 861.8,414 L783.8,414 A1,1 0 0 1 782.8,413 L782.8,367.8 A1,1 0 0 1 783.8,366.8 " fill="#DBD8AE" style="stroke:#000000;stroke-width:0.6000000000000001;"/><line style="stroke:#000000;stroke-width:0.6000000000000001;" x1="782.8" x2="821.6" y1="376.2438" y2="376.2438"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-weight="bold" lengthAdjust="spacing" textLength="33.6" x="784.4" y="373.4133">persistence</text></g><!--MD5=[3ff016c1aa5003d713567a073e2181a6]
cluster application--><g id="cluster_application"><path d="M3.4,77.6 L34.6,77.6 A1.5,1.5 0 0 1 35.6,78.6 L38.4,87.0438 L467.8,87.0438 A1,1 0 0 1 468.8,88.0438 L468.8,425.6 A1,1 0 0 1 467.8,426.6 L3.4,426.6 A1,1 0 0 1 2.4,425.6 L2.4,78.6 A1,1 0 0 1 3.4,77.6 " fill="#EAF4D3" style="stroke:#000000;stroke-width:0.6000000000000001;"/><line style="stroke:#000000;stroke-width:0.6000000000000001;" x1="2.4" x2="38.4" y1="87.0438" y2="87.0438"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-weight="bold" lengthAdjust="spacing" textLength="30.8" x="4" y="84.2133">application</text></g><!--MD5=[8e1272570a7d464be50f7ad59113c548]
class RegisterUserUI--><g id="elem_RegisterUserUI"><rect codeLine="4" fill="#F1F1F1" height="44.6125" id="RegisterUserUI" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="106.8" x="182.2" y="16.8"/><ellipse cx="215.1" cy="25.3406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M215.9,23.9406 Q215.9813,23.7406 216.075,23.6406 Q216.1688,23.5406 216.275,23.5406 Q216.4625,23.5406 216.5813,23.6531 Q216.7,23.7656 216.7,24.0281 L216.7,24.6531 Q216.7,24.9156 216.5875,25.0281 Q216.475,25.1406 216.3,25.1406 Q216.1438,25.1406 216.0438,25.0719 Q215.9438,25.0031 215.9,24.8219 Q215.8813,24.6969 215.8125,24.6281 Q215.6875,24.4969 215.4625,24.4219 Q215.2375,24.3406 215.0125,24.3406 Q214.7313,24.3406 214.4938,24.4531 Q214.2625,24.5656 214.0813,24.8156 Q213.9,25.0656 213.9,25.4094 L213.9,25.7781 Q213.9,26.1906 214.2375,26.4656 Q214.575,26.7406 215.175,26.7406 Q215.5313,26.7406 215.7813,26.6594 Q215.925,26.6156 216.0875,26.4719 Q216.1938,26.3906 216.25,26.3656 Q216.3063,26.3406 216.375,26.3406 Q216.5063,26.3406 216.6,26.4469 Q216.7,26.5469 216.7,26.6906 Q216.7,26.8281 216.5625,26.9906 Q216.3625,27.2281 216.0438,27.3594 Q215.625,27.5406 215.1125,27.5406 Q214.5125,27.5406 214.0313,27.3031 Q213.6438,27.1156 213.3688,26.7094 Q213.1,26.3031 213.1,25.8219 L213.1,25.3844 Q213.1,24.8844 213.3375,24.4469 Q213.5813,24.0094 214,23.7781 Q214.425,23.5406 214.9,23.5406 Q215.1875,23.5406 215.4375,23.6406 Q215.6875,23.7406 215.9,23.9406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="9.6" x="237.3" y="23.7828">«ui»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="37.6" x="223.3" y="30.6508">RegisterUserUI</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="182.6" x2="288.6" y1="33.8813" y2="33.8813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="185.4" y="38.4031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="95.2" x="190.2" y="41.2945">theController : RegisterUserController</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="182.6" x2="288.6" y1="44.125" y2="44.125"/><ellipse cx="186.6" cy="49.8469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="24" x="190.2" y="51.5383">doShow()</text><ellipse cx="186.6" cy="56.8906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="96.4" x="190.2" y="58.582">showRoles(final Set&lt;Role&gt; roleTypes)</text></g><!--MD5=[a3638c1e5b65d287ecad7f06f5c0f212]
class Role--><g id="elem_Role"><rect codeLine="16" fill="#F1F1F1" height="37.5688" id="Role" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="43.6" x="547" y="717.6"/><ellipse cx="553" cy="726.1406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M553.8,724.7406 Q553.8813,724.5406 553.975,724.4406 Q554.0688,724.3406 554.175,724.3406 Q554.3625,724.3406 554.4813,724.4531 Q554.6,724.5656 554.6,724.8281 L554.6,725.4531 Q554.6,725.7156 554.4875,725.8281 Q554.375,725.9406 554.2,725.9406 Q554.0438,725.9406 553.9438,725.8719 Q553.8438,725.8031 553.8,725.6219 Q553.7813,725.4969 553.7125,725.4281 Q553.5875,725.2969 553.3625,725.2219 Q553.1375,725.1406 552.9125,725.1406 Q552.6313,725.1406 552.3938,725.2531 Q552.1625,725.3656 551.9813,725.6156 Q551.8,725.8656 551.8,726.2094 L551.8,726.5781 Q551.8,726.9906 552.1375,727.2656 Q552.475,727.5406 553.075,727.5406 Q553.4313,727.5406 553.6813,727.4594 Q553.825,727.4156 553.9875,727.2719 Q554.0938,727.1906 554.15,727.1656 Q554.2063,727.1406 554.275,727.1406 Q554.4063,727.1406 554.5,727.2469 Q554.6,727.3469 554.6,727.4906 Q554.6,727.6281 554.4625,727.7906 Q554.2625,728.0281 553.9438,728.1594 Q553.525,728.3406 553.0125,728.3406 Q552.4125,728.3406 551.9313,728.1031 Q551.5438,727.9156 551.2688,727.5094 Q551,727.1031 551,726.6219 L551,726.1844 Q551,725.6844 551.2375,725.2469 Q551.4813,724.8094 551.9,724.5781 Q552.325,724.3406 552.8,724.3406 Q553.0875,724.3406 553.3375,724.4406 Q553.5875,724.5406 553.8,724.7406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="557.8" y="724.5828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="11.6" x="568.2" y="731.4508">Role</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="547.4" x2="590.2" y1="734.6813" y2="734.6813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="550.2" y="739.2031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="24" x="555" y="742.0945">roleName</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="547.4" x2="590.2" y1="744.925" y2="744.925"/><ellipse cx="551.4" cy="750.6469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="29.6" x="555" y="752.3383">Role(name)</text></g><!--MD5=[20c2d2fab8cbc867fc362748def8f1c0]
class RoleAssignment--><g id="elem_RoleAssignment"><rect codeLine="21" fill="#F1F1F1" height="65.7438" id="RoleAssignment" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="99.6" x="635.8" y="703.6"/><ellipse cx="663.5" cy="712.1406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M664.3,710.7406 Q664.3813,710.5406 664.475,710.4406 Q664.5688,710.3406 664.675,710.3406 Q664.8625,710.3406 664.9813,710.4531 Q665.1,710.5656 665.1,710.8281 L665.1,711.4531 Q665.1,711.7156 664.9875,711.8281 Q664.875,711.9406 664.7,711.9406 Q664.5438,711.9406 664.4438,711.8719 Q664.3438,711.8031 664.3,711.6219 Q664.2813,711.4969 664.2125,711.4281 Q664.0875,711.2969 663.8625,711.2219 Q663.6375,711.1406 663.4125,711.1406 Q663.1313,711.1406 662.8938,711.2531 Q662.6625,711.3656 662.4813,711.6156 Q662.3,711.8656 662.3,712.2094 L662.3,712.5781 Q662.3,712.9906 662.6375,713.2656 Q662.975,713.5406 663.575,713.5406 Q663.9313,713.5406 664.1813,713.4594 Q664.325,713.4156 664.4875,713.2719 Q664.5938,713.1906 664.65,713.1656 Q664.7063,713.1406 664.775,713.1406 Q664.9063,713.1406 665,713.2469 Q665.1,713.3469 665.1,713.4906 Q665.1,713.6281 664.9625,713.7906 Q664.7625,714.0281 664.4438,714.1594 Q664.025,714.3406 663.5125,714.3406 Q662.9125,714.3406 662.4313,714.1031 Q662.0438,713.9156 661.7688,713.5094 Q661.5,713.1031 661.5,712.6219 L661.5,712.1844 Q661.5,711.6844 661.7375,711.2469 Q661.9813,710.8094 662.4,710.5781 Q662.825,710.3406 663.3,710.3406 Q663.5875,710.3406 663.8375,710.4406 Q664.0875,710.5406 664.3,710.7406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="675.9" y="710.5828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="40.8" x="671.7" y="717.4508">RoleAssignment</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="636.2" x2="735" y1="720.6813" y2="720.6813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639" y="725.2031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="6" x="643.8" y="728.0945">pk</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639" y="732.2469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="10.8" x="643.8" y="735.1383">type</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639" y="739.2906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="30.4" x="643.8" y="742.182">assignedOn</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639" y="746.3344"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="36.8" x="643.8" y="749.2258">unassignedOn</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639" y="753.3781"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="18.4" x="643.8" y="756.2695">expired</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="636.2" x2="735" y1="759.1" y2="759.1"/><ellipse cx="640.2" cy="764.8219" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="89.2" x="643.8" y="766.5133">RoleAssignment(type, assignedOn)</text></g><!--MD5=[baab59eb82057fff0746fc8f0031a891]
class RoleSet--><g id="elem_RoleSet"><rect codeLine="30" fill="#F1F1F1" height="40.3313" id="RoleSet" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="62.4" x="704.4" y="590.4"/><ellipse cx="723.9" cy="596.8" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M724.7,595.4 Q724.7813,595.2 724.875,595.1 Q724.9688,595 725.075,595 Q725.2625,595 725.3813,595.1125 Q725.5,595.225 725.5,595.4875 L725.5,596.1125 Q725.5,596.375 725.3875,596.4875 Q725.275,596.6 725.1,596.6 Q724.9438,596.6 724.8438,596.5313 Q724.7438,596.4625 724.7,596.2813 Q724.6813,596.1563 724.6125,596.0875 Q724.4875,595.9563 724.2625,595.8813 Q724.0375,595.8 723.8125,595.8 Q723.5313,595.8 723.2938,595.9125 Q723.0625,596.025 722.8813,596.275 Q722.7,596.525 722.7,596.8688 L722.7,597.2375 Q722.7,597.65 723.0375,597.925 Q723.375,598.2 723.975,598.2 Q724.3313,598.2 724.5813,598.1188 Q724.725,598.075 724.8875,597.9313 Q724.9938,597.85 725.05,597.825 Q725.1063,597.8 725.175,597.8 Q725.3063,597.8 725.4,597.9063 Q725.5,598.0063 725.5,598.15 Q725.5,598.2875 725.3625,598.45 Q725.1625,598.6875 724.8438,598.8188 Q724.425,599 723.9125,599 Q723.3125,599 722.8313,598.7625 Q722.4438,598.575 722.1688,598.1688 Q721.9,597.7625 721.9,597.2813 L721.9,596.8438 Q721.9,596.3438 722.1375,595.9063 Q722.3813,595.4688 722.8,595.2375 Q723.225,595 723.7,595 Q723.9875,595 724.2375,595.1 Q724.4875,595.2 724.7,595.4 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="20" x="732.1" y="599.0914">RoleSet</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="704.8" x2="766.4" y1="603.2" y2="603.2"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="707.6" y="607.7219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="31.6" x="712.4" y="610.6133">assignments</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="704.8" x2="766.4" y1="613.4438" y2="613.4438"/><ellipse cx="708.8" cy="619.1656" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="23.2" x="712.4" y="620.857">add(role)</text><ellipse cx="708.8" cy="626.2094" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="52" x="712.4" y="627.9008">hasAssignment(role)</text></g><!--MD5=[73145e46247802284b2f7aaef1fa1797]
class Set--><g id="elem_Set"><rect codeLine="150" fill="#F1F1F1" height="19.2" id="Set" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="21.2" x="727.8" y="547.2"/><ellipse cx="733.8" cy="553.6" fill="#B4A7E5" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M734.2,552.4 L734.2,554.8 L735,554.8 L735.1938,554.8 L735.4,555.05 L735.4,555.2 L735.4,555.35 L735.1938,555.6 L735,555.6 L732.6,555.6 L732.4063,555.6 L732.2,555.35 L732.2,555.2 L732.2,555.05 L732.4063,554.8 L732.6,554.8 L733.4,554.8 L733.4,552.4 L732.6,552.4 L732.4063,552.4 L732.2,552.15 L732.2,552 L732.2,551.85 L732.4063,551.6 L732.6,551.6 L735,551.6 L735.1938,551.6 L735.4,551.85 L735.4,552 L735.4,552.15 L735.1938,552.4 L735,552.4 L734.2,552.4 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="8.4" x="739.4" y="555.8914">Set</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="728.2" x2="748.6" y1="560" y2="560"/><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="728.2" x2="748.6" y1="563.2" y2="563.2"/></g><!--MD5=[bc064d979c32666ae52f3d7624591b7b]
class SystemUser--><g id="elem_SystemUser"><rect codeLine="37" fill="#F1F1F1" height="107" id="SystemUser" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="187.2" x="579.6" y="340.8"/><ellipse cx="653.5" cy="352.3594" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M654.3,350.9594 Q654.3813,350.7594 654.475,350.6594 Q654.5688,350.5594 654.675,350.5594 Q654.8625,350.5594 654.9813,350.6719 Q655.1,350.7844 655.1,351.0469 L655.1,351.6719 Q655.1,351.9344 654.9875,352.0469 Q654.875,352.1594 654.7,352.1594 Q654.5438,352.1594 654.4438,352.0906 Q654.3438,352.0219 654.3,351.8406 Q654.2813,351.7156 654.2125,351.6469 Q654.0875,351.5156 653.8625,351.4406 Q653.6375,351.3594 653.4125,351.3594 Q653.1313,351.3594 652.8938,351.4719 Q652.6625,351.5844 652.4813,351.8344 Q652.3,352.0844 652.3,352.4281 L652.3,352.7969 Q652.3,353.2094 652.6375,353.4844 Q652.975,353.7594 653.575,353.7594 Q653.9313,353.7594 654.1813,353.6781 Q654.325,353.6344 654.4875,353.4906 Q654.5938,353.4094 654.65,353.3844 Q654.7063,353.3594 654.775,353.3594 Q654.9063,353.3594 655,353.4656 Q655.1,353.5656 655.1,353.7094 Q655.1,353.8469 654.9625,354.0094 Q654.7625,354.2469 654.4438,354.3781 Q654.025,354.5594 653.5125,354.5594 Q652.9125,354.5594 652.4313,354.3219 Q652.0438,354.1344 651.7688,353.7281 Q651.5,353.3219 651.5,352.8406 L651.5,352.4031 Q651.5,351.9031 651.7375,351.4656 Q651.9813,351.0281 652.4,350.7969 Q652.825,350.5594 653.3,350.5594 Q653.5875,350.5594 653.8375,350.6594 Q654.0875,350.7594 654.3,350.9594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="37.6" x="660.9" y="347.7828">«aggregate root»</text><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="17.2" x="671.1" y="353.8203">«entity»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="30" x="664.7" y="360.6883">SystemUser</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="580" x2="766.4" y1="363.9188" y2="363.9188"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="368.4406"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="52.4" x="587.6" y="371.332">email : EmailAddress</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="375.4844"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="53.2" x="587.6" y="378.3758">password : Password</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="382.5281"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="50" x="587.6" y="385.4195">fullName : FullName</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="389.5719"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="60" x="587.6" y="392.4633">shortName : ShortName</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="396.6156"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="37.2" x="587.6" y="399.507">roles : RoleSet</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="403.6594"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="54.8" x="587.6" y="406.5508">createdOn : Calendar</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="410.7031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="40" x="587.6" y="413.5945">active : boolean</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="417.7469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58.4" x="587.6" y="420.6383">activatedOn : Calendar</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="582.8" y="424.7906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="64.8" x="587.6" y="427.682">deactivatedOn : Calendar</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="580" x2="766.4" y1="430.5125" y2="430.5125"/><ellipse cx="584" cy="436.2344" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="176.8" x="587.6" y="437.9258">SystemUser (email, password, fullName, shortName, roles, createdOn)</text><ellipse cx="584" cy="443.2781" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="152.4" x="587.6" y="444.9695">init(email, password, fullName, shortName, roles, createdOn)</text></g><!--MD5=[6a10e9b103e375a5f698786d329ce000]
class EmailAddress--><g id="elem_EmailAddress"><rect codeLine="51" fill="#F1F1F1" height="50.65" id="EmailAddress" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="62" x="485" y="472.4"/><ellipse cx="497.66" cy="483.9594" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M498.46,482.5594 Q498.5413,482.3594 498.635,482.2594 Q498.7288,482.1594 498.835,482.1594 Q499.0225,482.1594 499.1413,482.2719 Q499.26,482.3844 499.26,482.6469 L499.26,483.2719 Q499.26,483.5344 499.1475,483.6469 Q499.035,483.7594 498.86,483.7594 Q498.7038,483.7594 498.6038,483.6906 Q498.5038,483.6219 498.46,483.4406 Q498.4413,483.3156 498.3725,483.2469 Q498.2475,483.1156 498.0225,483.0406 Q497.7975,482.9594 497.5725,482.9594 Q497.2913,482.9594 497.0538,483.0719 Q496.8225,483.1844 496.6413,483.4344 Q496.46,483.6844 496.46,484.0281 L496.46,484.3969 Q496.46,484.8094 496.7975,485.0844 Q497.135,485.3594 497.735,485.3594 Q498.0913,485.3594 498.3413,485.2781 Q498.485,485.2344 498.6475,485.0906 Q498.7538,485.0094 498.81,484.9844 Q498.8663,484.9594 498.935,484.9594 Q499.0663,484.9594 499.16,485.0656 Q499.26,485.1656 499.26,485.3094 Q499.26,485.4469 499.1225,485.6094 Q498.9225,485.8469 498.6038,485.9781 Q498.185,486.1594 497.6725,486.1594 Q497.0725,486.1594 496.5913,485.9219 Q496.2038,485.7344 495.9288,485.3281 Q495.66,484.9219 495.66,484.4406 L495.66,484.0031 Q495.66,483.5031 495.8975,483.0656 Q496.1413,482.6281 496.56,482.3969 Q496.985,482.1594 497.46,482.1594 Q497.7475,482.1594 497.9975,482.2594 Q498.2475,482.3594 498.46,482.5594 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="505.74" y="479.3828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="9.6" x="517.14" y="485.4203">«id»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="34.4" x="504.74" y="492.2883">EmailAddress</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="485.4" x2="546.6" y1="495.5188" y2="495.5188"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488.2" y="500.0406"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="32.8" x="493" y="502.932">email : String</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="485.4" x2="546.6" y1="505.7625" y2="505.7625"/><ellipse cx="489.4" cy="511.4844" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="36.8" x="493" y="513.1758">valueOf(email)</text><ellipse cx="489.4" cy="518.5281" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="51.6" x="493" y="520.2195">EmailAddress(email)</text></g><!--MD5=[2f01b1126ff33a0669651ec2488a5ef9]
class Password--><g id="elem_Password"><rect codeLine="57" fill="#F1F1F1" height="37.5688" id="Password" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="124.4" x="525.4" y="591.8"/><ellipse cx="570.5" cy="600.3406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M571.3,598.9406 Q571.3813,598.7406 571.475,598.6406 Q571.5688,598.5406 571.675,598.5406 Q571.8625,598.5406 571.9813,598.6531 Q572.1,598.7656 572.1,599.0281 L572.1,599.6531 Q572.1,599.9156 571.9875,600.0281 Q571.875,600.1406 571.7,600.1406 Q571.5438,600.1406 571.4438,600.0719 Q571.3438,600.0031 571.3,599.8219 Q571.2813,599.6969 571.2125,599.6281 Q571.0875,599.4969 570.8625,599.4219 Q570.6375,599.3406 570.4125,599.3406 Q570.1313,599.3406 569.8938,599.4531 Q569.6625,599.5656 569.4813,599.8156 Q569.3,600.0656 569.3,600.4094 L569.3,600.7781 Q569.3,601.1906 569.6375,601.4656 Q569.975,601.7406 570.575,601.7406 Q570.9313,601.7406 571.1813,601.6594 Q571.325,601.6156 571.4875,601.4719 Q571.5938,601.3906 571.65,601.3656 Q571.7063,601.3406 571.775,601.3406 Q571.9063,601.3406 572,601.4469 Q572.1,601.5469 572.1,601.6906 Q572.1,601.8281 571.9625,601.9906 Q571.7625,602.2281 571.4438,602.3594 Q571.025,602.5406 570.5125,602.5406 Q569.9125,602.5406 569.4313,602.3031 Q569.0438,602.1156 568.7688,601.7094 Q568.5,601.3031 568.5,600.8219 L568.5,600.3844 Q568.5,599.8844 568.7375,599.4469 Q568.9813,599.0094 569.4,598.7781 Q569.825,598.5406 570.3,598.5406 Q570.5875,598.5406 570.8375,598.6406 Q571.0875,598.7406 571.3,598.9406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="577.9" y="598.7828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="24.4" x="581.9" y="605.6508">Password</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="525.8" x2="649.4" y1="608.8813" y2="608.8813"/><ellipse cx="529.8" cy="614.6031" fill="none" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="44" x="533.4" y="616.2945">Password : String</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="525.8" x2="649.4" y1="619.125" y2="619.125"/><rect fill="#F24D5C" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="528.6" y="623.6469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="114" x="533.4" y="626.5383">encodedAndValid(password, policy, encoder)</text></g><!--MD5=[ba7731d2bbdb81fc0704c700614d70af]
class FullName--><g id="elem_FullName"><rect codeLine="62" fill="#F1F1F1" height="44.6125" id="FullName" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="61.2" x="561" y="475.4"/><ellipse cx="574.92" cy="483.9406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M575.72,482.5406 Q575.8013,482.3406 575.895,482.2406 Q575.9888,482.1406 576.095,482.1406 Q576.2825,482.1406 576.4013,482.2531 Q576.52,482.3656 576.52,482.6281 L576.52,483.2531 Q576.52,483.5156 576.4075,483.6281 Q576.295,483.7406 576.12,483.7406 Q575.9638,483.7406 575.8638,483.6719 Q575.7638,483.6031 575.72,483.4219 Q575.7013,483.2969 575.6325,483.2281 Q575.5075,483.0969 575.2825,483.0219 Q575.0575,482.9406 574.8325,482.9406 Q574.5513,482.9406 574.3138,483.0531 Q574.0825,483.1656 573.9013,483.4156 Q573.72,483.6656 573.72,484.0094 L573.72,484.3781 Q573.72,484.7906 574.0575,485.0656 Q574.395,485.3406 574.995,485.3406 Q575.3513,485.3406 575.6013,485.2594 Q575.745,485.2156 575.9075,485.0719 Q576.0138,484.9906 576.07,484.9656 Q576.1263,484.9406 576.195,484.9406 Q576.3263,484.9406 576.42,485.0469 Q576.52,485.1469 576.52,485.2906 Q576.52,485.4281 576.3825,485.5906 Q576.1825,485.8281 575.8638,485.9594 Q575.445,486.1406 574.9325,486.1406 Q574.3325,486.1406 573.8513,485.9031 Q573.4638,485.7156 573.1888,485.3094 Q572.92,484.9031 572.92,484.4219 L572.92,483.9844 Q572.92,483.4844 573.1575,483.0469 Q573.4013,482.6094 573.82,482.3781 Q574.245,482.1406 574.72,482.1406 Q575.0075,482.1406 575.2575,482.2406 Q575.5075,482.3406 575.72,482.5406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="581.48" y="482.3828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="23.6" x="585.88" y="489.2508">FullName</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="561.4" x2="621.8" y1="492.4813" y2="492.4813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="564.2" y="497.0031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="41.2" x="569" y="499.8945">fullName : String</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="561.4" x2="621.8" y1="502.725" y2="502.725"/><ellipse cx="565.4" cy="508.4469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="45.2" x="569" y="510.1383">valueOf(fullName)</text><ellipse cx="565.4" cy="515.4906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="50.8" x="569" y="517.182">FullName (fullName)</text></g><!--MD5=[f338b7fac0450cb697edae5d9e4bb9ca]
class ShortName--><g id="elem_ShortName"><rect codeLine="68" fill="#F1F1F1" height="44.6125" id="ShortName" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.8" x="636.2" y="475.4"/><ellipse cx="652.64" cy="483.9406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M653.44,482.5406 Q653.5213,482.3406 653.615,482.2406 Q653.7088,482.1406 653.815,482.1406 Q654.0025,482.1406 654.1213,482.2531 Q654.24,482.3656 654.24,482.6281 L654.24,483.2531 Q654.24,483.5156 654.1275,483.6281 Q654.015,483.7406 653.84,483.7406 Q653.6838,483.7406 653.5838,483.6719 Q653.4838,483.6031 653.44,483.4219 Q653.4213,483.2969 653.3525,483.2281 Q653.2275,483.0969 653.0025,483.0219 Q652.7775,482.9406 652.5525,482.9406 Q652.2713,482.9406 652.0338,483.0531 Q651.8025,483.1656 651.6213,483.4156 Q651.44,483.6656 651.44,484.0094 L651.44,484.3781 Q651.44,484.7906 651.7775,485.0656 Q652.115,485.3406 652.715,485.3406 Q653.0713,485.3406 653.3213,485.2594 Q653.465,485.2156 653.6275,485.0719 Q653.7338,484.9906 653.79,484.9656 Q653.8463,484.9406 653.915,484.9406 Q654.0463,484.9406 654.14,485.0469 Q654.24,485.1469 654.24,485.2906 Q654.24,485.4281 654.1025,485.5906 Q653.9025,485.8281 653.5838,485.9594 Q653.165,486.1406 652.6525,486.1406 Q652.0525,486.1406 651.5713,485.9031 Q651.1838,485.7156 650.9088,485.3094 Q650.64,484.9031 650.64,484.4219 L650.64,483.9844 Q650.64,483.4844 650.8775,483.0469 Q651.1213,482.6094 651.54,482.3781 Q651.965,482.1406 652.44,482.1406 Q652.7275,482.1406 652.9775,482.2406 Q653.2275,482.3406 653.44,482.5406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="659.76" y="482.3828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="28" x="661.96" y="489.2508">ShortName</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="636.6" x2="702.6" y1="492.4813" y2="492.4813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="639.4" y="497.0031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.8" x="644.2" y="499.8945">shortName : String</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="636.6" x2="702.6" y1="502.725" y2="502.725"/><ellipse cx="640.6" cy="508.4469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="50.8" x="644.2" y="510.1383">valueOf(shortName)</text><ellipse cx="640.6" cy="515.4906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="56.4" x="644.2" y="517.182">FullName (shortName)</text></g><!--MD5=[e6c63db5240f7c9aea50f4d0a5b19113]
class SystemUserBuilder--><g id="elem_SystemUserBuilder"><rect codeLine="74" fill="#F1F1F1" height="108.0063" id="SystemUserBuilder" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="80.8" x="484.8" y="340.4"/><ellipse cx="499.98" cy="348.9406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M500.78,347.5406 Q500.8613,347.3406 500.955,347.2406 Q501.0488,347.1406 501.155,347.1406 Q501.3425,347.1406 501.4613,347.2531 Q501.58,347.3656 501.58,347.6281 L501.58,348.2531 Q501.58,348.5156 501.4675,348.6281 Q501.355,348.7406 501.18,348.7406 Q501.0238,348.7406 500.9238,348.6719 Q500.8238,348.6031 500.78,348.4219 Q500.7613,348.2969 500.6925,348.2281 Q500.5675,348.0969 500.3425,348.0219 Q500.1175,347.9406 499.8925,347.9406 Q499.6113,347.9406 499.3738,348.0531 Q499.1425,348.1656 498.9613,348.4156 Q498.78,348.6656 498.78,349.0094 L498.78,349.3781 Q498.78,349.7906 499.1175,350.0656 Q499.455,350.3406 500.055,350.3406 Q500.4113,350.3406 500.6613,350.2594 Q500.805,350.2156 500.9675,350.0719 Q501.0738,349.9906 501.13,349.9656 Q501.1863,349.9406 501.255,349.9406 Q501.3863,349.9406 501.48,350.0469 Q501.58,350.1469 501.58,350.2906 Q501.58,350.4281 501.4425,350.5906 Q501.2425,350.8281 500.9238,350.9594 Q500.505,351.1406 499.9925,351.1406 Q499.3925,351.1406 498.9113,350.9031 Q498.5238,350.7156 498.2488,350.3094 Q497.98,349.9031 497.98,349.4219 L497.98,348.9844 Q497.98,348.4844 498.2175,348.0469 Q498.4613,347.6094 498.88,347.3781 Q499.305,347.1406 499.78,347.1406 Q500.0675,347.1406 500.3175,347.2406 Q500.5675,347.3406 500.78,347.5406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="20" x="521.42" y="347.3828">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="47.6" x="507.62" y="354.2508">SystemUserBuilder</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="485.2" x2="565.2" y1="357.4813" y2="357.4813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="362.0031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="52.4" x="492.8" y="364.8945">email : EmailAddress</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="369.0469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="53.2" x="492.8" y="371.9383">password : Password</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="376.0906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="50" x="492.8" y="378.982">fullName : FullName</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="383.1344"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="60" x="492.8" y="386.0258">shortName : ShortName</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="390.1781"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="37.2" x="492.8" y="393.0695">roles : RoleSet</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="488" y="397.2219"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="54.8" x="492.8" y="400.1133">createdOn : Calendar</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="485.2" x2="565.2" y1="402.9438" y2="402.9438"/><ellipse cx="489.2" cy="408.6656" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="42" x="492.8" y="410.357">withEmail (email)</text><ellipse cx="489.2" cy="415.7094" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="63.6" x="492.8" y="417.4008">withPassword (password)</text><ellipse cx="489.2" cy="422.7531" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="63.6" x="492.8" y="424.4445">withFullName (pfullName)</text><ellipse cx="489.2" cy="429.7969" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="70.4" x="492.8" y="431.4883">withShortName (shortName)</text><ellipse cx="489.2" cy="436.8406" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="42" x="492.8" y="438.532">withRoles (roles)</text><ellipse cx="489.2" cy="443.8844" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="19.2" x="492.8" y="445.5758">build ();</text></g><!--MD5=[093c210125347143eef5bb9199eae634]
class UserRepository--><g id="elem_UserRepository"><rect codeLine="91" fill="#F1F1F1" height="26.2438" id="UserRepository" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="66.8" x="789.4" y="381.2"/><ellipse cx="802.06" cy="387.6" fill="#B4A7E5" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M802.46,386.4 L802.46,388.8 L803.26,388.8 L803.4538,388.8 L803.66,389.05 L803.66,389.2 L803.66,389.35 L803.4538,389.6 L803.26,389.6 L800.86,389.6 L800.6663,389.6 L800.46,389.35 L800.46,389.2 L800.46,389.05 L800.6663,388.8 L800.86,388.8 L801.66,388.8 L801.66,386.4 L800.86,386.4 L800.6663,386.4 L800.46,386.15 L800.46,386 L800.46,385.85 L800.6663,385.6 L800.86,385.6 L803.26,385.6 L803.4538,385.6 L803.66,385.85 L803.66,386 L803.66,386.15 L803.4538,386.4 L803.26,386.4 L802.46,386.4 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="5.6" font-style="italic" lengthAdjust="spacing" textLength="39.2" x="809.14" y="389.8914">UserRepository</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="789.8" x2="855.8" y1="394" y2="394"/><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="789.8" x2="855.8" y1="397.2" y2="397.2"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="62" x="791.8" y="404.6133">save(user : SystemUser)</text></g><!--MD5=[496b80faa3a098945d4210a458078312]
class RegisterUserController--><g id="elem_RegisterUserController"><rect codeLine="96" fill="#F1F1F1" height="58.7" id="RegisterUserController" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="176.8" x="147.2" y="92"/><ellipse cx="205.1" cy="100.5406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M205.9,99.1406 Q205.9813,98.9406 206.075,98.8406 Q206.1688,98.7406 206.275,98.7406 Q206.4625,98.7406 206.5813,98.8531 Q206.7,98.9656 206.7,99.2281 L206.7,99.8531 Q206.7,100.1156 206.5875,100.2281 Q206.475,100.3406 206.3,100.3406 Q206.1438,100.3406 206.0438,100.2719 Q205.9438,100.2031 205.9,100.0219 Q205.8813,99.8969 205.8125,99.8281 Q205.6875,99.6969 205.4625,99.6219 Q205.2375,99.5406 205.0125,99.5406 Q204.7313,99.5406 204.4938,99.6531 Q204.2625,99.7656 204.0813,100.0156 Q203.9,100.2656 203.9,100.6094 L203.9,100.9781 Q203.9,101.3906 204.2375,101.6656 Q204.575,101.9406 205.175,101.9406 Q205.5313,101.9406 205.7813,101.8594 Q205.925,101.8156 206.0875,101.6719 Q206.1938,101.5906 206.25,101.5656 Q206.3063,101.5406 206.375,101.5406 Q206.5063,101.5406 206.6,101.6469 Q206.7,101.7469 206.7,101.8906 Q206.7,102.0281 206.5625,102.1906 Q206.3625,102.4281 206.0438,102.5594 Q205.625,102.7406 205.1125,102.7406 Q204.5125,102.7406 204.0313,102.5031 Q203.6438,102.3156 203.3688,101.9094 Q203.1,101.5031 203.1,101.0219 L203.1,100.5844 Q203.1,100.0844 203.3375,99.6469 Q203.5813,99.2094 204,98.9781 Q204.425,98.7406 204.9,98.7406 Q205.1875,98.7406 205.4375,98.8406 Q205.6875,98.9406 205.9,99.1406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="26" x="229.1" y="98.9828">«controller»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="57.6" x="213.3" y="105.8508">RegisterUserController</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="147.6" x2="323.6" y1="109.0813" y2="109.0813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="150.4" y="113.6031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="70" x="155.2" y="116.4945">authz : AuthorizationService</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="150.4" y="120.6469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="88.4" x="155.2" y="123.5383">userSvc : UserManagementService</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="147.6" x2="323.6" y1="126.3688" y2="126.3688"/><ellipse cx="151.6" cy="132.0906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="39.2" x="155.2" y="133.782">getRoleTypes()</text><ellipse cx="151.6" cy="139.1344" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="166.4" x="155.2" y="140.8258">addUser (email, password, fullName, shortName roles, createdOn)</text><ellipse cx="151.6" cy="146.1781" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="136.4" x="155.2" y="147.8695">addUser (email, password, fullName, shortName roles)</text></g><!--MD5=[54a33dd013dd881697601ca49de6dfbc]
class AuthorizationService--><g id="elem_AuthorizationService"><rect codeLine="104" fill="#F1F1F1" height="72.7875" id="AuthorizationService" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="120.4" x="9" y="174.8"/><ellipse cx="41.7" cy="183.3406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M42.5,181.9406 Q42.5813,181.7406 42.675,181.6406 Q42.7688,181.5406 42.875,181.5406 Q43.0625,181.5406 43.1813,181.6531 Q43.3,181.7656 43.3,182.0281 L43.3,182.6531 Q43.3,182.9156 43.1875,183.0281 Q43.075,183.1406 42.9,183.1406 Q42.7438,183.1406 42.6438,183.0719 Q42.5438,183.0031 42.5,182.8219 Q42.4813,182.6969 42.4125,182.6281 Q42.2875,182.4969 42.0625,182.4219 Q41.8375,182.3406 41.6125,182.3406 Q41.3313,182.3406 41.0938,182.4531 Q40.8625,182.5656 40.6813,182.8156 Q40.5,183.0656 40.5,183.4094 L40.5,183.7781 Q40.5,184.1906 40.8375,184.4656 Q41.175,184.7406 41.775,184.7406 Q42.1313,184.7406 42.3813,184.6594 Q42.525,184.6156 42.6875,184.4719 Q42.7938,184.3906 42.85,184.3656 Q42.9063,184.3406 42.975,184.3406 Q43.1063,184.3406 43.2,184.4469 Q43.3,184.5469 43.3,184.6906 Q43.3,184.8281 43.1625,184.9906 Q42.9625,185.2281 42.6438,185.3594 Q42.225,185.5406 41.7125,185.5406 Q41.1125,185.5406 40.6313,185.3031 Q40.2438,185.1156 39.9688,184.7094 Q39.7,184.3031 39.7,183.8219 L39.7,183.3844 Q39.7,182.8844 39.9375,182.4469 Q40.1813,182.0094 40.6,181.7781 Q41.025,181.5406 41.5,181.5406 Q41.7875,181.5406 42.0375,181.6406 Q42.2875,181.7406 42.5,181.9406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="21.2" x="65.1" y="181.7828">«service»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="51.6" x="49.9" y="188.6508">AuthorizationService</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="9.4" x2="129" y1="191.8813" y2="191.8813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="12.2" y="196.4031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="67.6" x="17" y="199.2945">userSession : UserSession</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="9.4" x2="129" y1="202.125" y2="202.125"/><ellipse cx="13.4" cy="207.8469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="71.6" x="17" y="209.5383">createSessionForUser(user)</text><ellipse cx="13.4" cy="214.8906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="36.4" x="17" y="216.582">clearSession()</text><ellipse cx="13.4" cy="221.9344" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="33.2" x="17" y="223.6258">hasSession()</text><ellipse cx="13.4" cy="228.9781" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="23.2" x="17" y="230.6695">session()</text><ellipse cx="13.4" cy="236.0219" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="104.8" x="17" y="237.7133">isAuthenticatedUserAuthorizedTo (action)</text><ellipse cx="13.4" cy="243.0656" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="110" x="17" y="244.757">ensureAuthenticatedUserHasAnyOf (action)</text></g><!--MD5=[b07be2b600772d055921457a51a4b081]
class AuthenticationService--><g id="elem_AuthenticationService"><rect codeLine="114" fill="#F1F1F1" height="72.7875" id="AuthenticationService" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="140.8" x="143.6" y="174.8"/><ellipse cx="184.9" cy="183.3406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M185.7,181.9406 Q185.7813,181.7406 185.875,181.6406 Q185.9688,181.5406 186.075,181.5406 Q186.2625,181.5406 186.3813,181.6531 Q186.5,181.7656 186.5,182.0281 L186.5,182.6531 Q186.5,182.9156 186.3875,183.0281 Q186.275,183.1406 186.1,183.1406 Q185.9438,183.1406 185.8438,183.0719 Q185.7438,183.0031 185.7,182.8219 Q185.6813,182.6969 185.6125,182.6281 Q185.4875,182.4969 185.2625,182.4219 Q185.0375,182.3406 184.8125,182.3406 Q184.5313,182.3406 184.2938,182.4531 Q184.0625,182.5656 183.8813,182.8156 Q183.7,183.0656 183.7,183.4094 L183.7,183.7781 Q183.7,184.1906 184.0375,184.4656 Q184.375,184.7406 184.975,184.7406 Q185.3313,184.7406 185.5813,184.6594 Q185.725,184.6156 185.8875,184.4719 Q185.9938,184.3906 186.05,184.3656 Q186.1063,184.3406 186.175,184.3406 Q186.3063,184.3406 186.4,184.4469 Q186.5,184.5469 186.5,184.6906 Q186.5,184.8281 186.3625,184.9906 Q186.1625,185.2281 185.8438,185.3594 Q185.425,185.5406 184.9125,185.5406 Q184.3125,185.5406 183.8313,185.3031 Q183.4438,185.1156 183.1688,184.7094 Q182.9,184.3031 182.9,183.8219 L182.9,183.3844 Q182.9,182.8844 183.1375,182.4469 Q183.3813,182.0094 183.8,181.7781 Q184.225,181.5406 184.7,181.5406 Q184.9875,181.5406 185.2375,181.6406 Q185.4875,181.7406 185.7,181.9406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="21.2" x="209.9" y="181.7828">«service»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="54.8" x="193.1" y="188.6508">AuthenticationService</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="144" x2="284" y1="191.8813" y2="191.8813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="146.8" y="196.4031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="55.2" x="151.6" y="199.2945">repo : UserRepository</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="146.8" y="203.4469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="70" x="151.6" y="206.3383">authz : AuthorizationService</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="146.8" y="210.4906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58.4" x="151.6" y="213.382">policy : PasswordPolicy</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="146.8" y="217.5344"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="71.2" x="151.6" y="220.4258">encoder : PasswordEncoder</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="144" x2="284" y1="223.2563" y2="223.2563"/><ellipse cx="148" cy="228.9781" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="130.4" x="151.6" y="230.6695">AuthenticationService (repo, authz, policy, encoder)</text><ellipse cx="148" cy="236.0219" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="123.6" x="151.6" y="237.7133">authenticate(email, rawPassword, requiredRoles)</text><ellipse cx="148" cy="243.0656" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="48" x="151.6" y="244.757">retrieveUser(email)</text></g><!--MD5=[dee3711f8c64a3e2b37828f172d71c22]
class UserManagementService--><g id="elem_UserManagementService"><rect codeLine="124" fill="#F1F1F1" height="51.6563" id="UserManagementService" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="163.6" x="298.6" y="185.4"/><ellipse cx="347.1" cy="193.9406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M347.9,192.5406 Q347.9813,192.3406 348.075,192.2406 Q348.1688,192.1406 348.275,192.1406 Q348.4625,192.1406 348.5813,192.2531 Q348.7,192.3656 348.7,192.6281 L348.7,193.2531 Q348.7,193.5156 348.5875,193.6281 Q348.475,193.7406 348.3,193.7406 Q348.1438,193.7406 348.0438,193.6719 Q347.9438,193.6031 347.9,193.4219 Q347.8813,193.2969 347.8125,193.2281 Q347.6875,193.0969 347.4625,193.0219 Q347.2375,192.9406 347.0125,192.9406 Q346.7313,192.9406 346.4938,193.0531 Q346.2625,193.1656 346.0813,193.4156 Q345.9,193.6656 345.9,194.0094 L345.9,194.3781 Q345.9,194.7906 346.2375,195.0656 Q346.575,195.3406 347.175,195.3406 Q347.5313,195.3406 347.7813,195.2594 Q347.925,195.2156 348.0875,195.0719 Q348.1938,194.9906 348.25,194.9656 Q348.3063,194.9406 348.375,194.9406 Q348.5063,194.9406 348.6,195.0469 Q348.7,195.1469 348.7,195.2906 Q348.7,195.4281 348.5625,195.5906 Q348.3625,195.8281 348.0438,195.9594 Q347.625,196.1406 347.1125,196.1406 Q346.5125,196.1406 346.0313,195.9031 Q345.6438,195.7156 345.3688,195.3094 Q345.1,194.9031 345.1,194.4219 L345.1,193.9844 Q345.1,193.4844 345.3375,193.0469 Q345.5813,192.6094 346,192.3781 Q346.425,192.1406 346.9,192.1406 Q347.1875,192.1406 347.4375,192.2406 Q347.6875,192.3406 347.9,192.5406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="21.2" x="376.3" y="192.3828">«service»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="63.2" x="355.3" y="199.2508">UserManagementService</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="299" x2="461.8" y1="202.4813" y2="202.4813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="301.8" y="207.0031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="82" x="306.6" y="209.8945">userRepository : UserRepository</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="301.8" y="214.0469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="71.2" x="306.6" y="216.9383">encoder : PasswordEncoder</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="301.8" y="221.0906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="58.4" x="306.6" y="223.982">policy : PasswordPolicy</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="299" x2="461.8" y1="226.8125" y2="226.8125"/><ellipse cx="303" cy="232.5344" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="153.2" x="306.6" y="234.2258">registerNewUser(email, password, fullName,shortName,roles)</text></g><!--MD5=[f2f4f081f533f1801637718551dd4ff8]
class PasswordEncoder--><g id="elem_PasswordEncoder"><rect codeLine="131" fill="#F1F1F1" height="44.6125" id="PasswordEncoder" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="116.8" x="218.8" y="271.6"/><ellipse cx="252.7" cy="280.1406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M253.5,278.7406 Q253.5813,278.5406 253.675,278.4406 Q253.7688,278.3406 253.875,278.3406 Q254.0625,278.3406 254.1813,278.4531 Q254.3,278.5656 254.3,278.8281 L254.3,279.4531 Q254.3,279.7156 254.1875,279.8281 Q254.075,279.9406 253.9,279.9406 Q253.7438,279.9406 253.6438,279.8719 Q253.5438,279.8031 253.5,279.6219 Q253.4813,279.4969 253.4125,279.4281 Q253.2875,279.2969 253.0625,279.2219 Q252.8375,279.1406 252.6125,279.1406 Q252.3313,279.1406 252.0938,279.2531 Q251.8625,279.3656 251.6813,279.6156 Q251.5,279.8656 251.5,280.2094 L251.5,280.5781 Q251.5,280.9906 251.8375,281.2656 Q252.175,281.5406 252.775,281.5406 Q253.1313,281.5406 253.3813,281.4594 Q253.525,281.4156 253.6875,281.2719 Q253.7938,281.1906 253.85,281.1656 Q253.9063,281.1406 253.975,281.1406 Q254.1063,281.1406 254.2,281.2469 Q254.3,281.3469 254.3,281.4906 Q254.3,281.6281 254.1625,281.7906 Q253.9625,282.0281 253.6438,282.1594 Q253.225,282.3406 252.7125,282.3406 Q252.1125,282.3406 251.6313,282.1031 Q251.2438,281.9156 250.9688,281.5094 Q250.7,281.1031 250.7,280.6219 L250.7,280.1844 Q250.7,279.6844 250.9375,279.2469 Q251.1813,278.8094 251.6,278.5781 Q252.025,278.3406 252.5,278.3406 Q252.7875,278.3406 253.0375,278.4406 Q253.2875,278.5406 253.5,278.7406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="21.2" x="273.1" y="278.5828">«service»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="45.6" x="260.9" y="285.4508">PasswordEncoder</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="219.2" x2="335.2" y1="288.6813" y2="288.6813"/><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="219.2" x2="335.2" y1="291.8813" y2="291.8813"/><ellipse cx="223.2" cy="297.6031" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="56" x="226.8" y="299.2945">encode(rawPassword)</text><ellipse cx="223.2" cy="304.6469" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="106.4" x="226.8" y="306.3383">matches(rawPassword,encodedPassword)</text><ellipse cx="223.2" cy="311.6906" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="95.2" x="226.8" y="313.382">upgradeEncoding(encodedPassword)</text></g><!--MD5=[0681c2e94bdf5871eea92a1a4901fc0d]
class PasswordPolicy--><g id="elem_PasswordPolicy"><rect codeLine="137" fill="#F1F1F1" height="30.525" id="PasswordPolicy" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="70.4" x="134.4" y="278.8"/><ellipse cx="148.68" cy="287.3406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M149.48,285.9406 Q149.5613,285.7406 149.655,285.6406 Q149.7488,285.5406 149.855,285.5406 Q150.0425,285.5406 150.1613,285.6531 Q150.28,285.7656 150.28,286.0281 L150.28,286.6531 Q150.28,286.9156 150.1675,287.0281 Q150.055,287.1406 149.88,287.1406 Q149.7238,287.1406 149.6238,287.0719 Q149.5238,287.0031 149.48,286.8219 Q149.4613,286.6969 149.3925,286.6281 Q149.2675,286.4969 149.0425,286.4219 Q148.8175,286.3406 148.5925,286.3406 Q148.3113,286.3406 148.0738,286.4531 Q147.8425,286.5656 147.6613,286.8156 Q147.48,287.0656 147.48,287.4094 L147.48,287.7781 Q147.48,288.1906 147.8175,288.4656 Q148.155,288.7406 148.755,288.7406 Q149.1113,288.7406 149.3613,288.6594 Q149.505,288.6156 149.6675,288.4719 Q149.7738,288.3906 149.83,288.3656 Q149.8863,288.3406 149.955,288.3406 Q150.0863,288.3406 150.18,288.4469 Q150.28,288.5469 150.28,288.6906 Q150.28,288.8281 150.1425,288.9906 Q149.9425,289.2281 149.6238,289.3594 Q149.205,289.5406 148.6925,289.5406 Q148.0925,289.5406 147.6113,289.3031 Q147.2238,289.1156 146.9488,288.7094 Q146.68,288.3031 146.68,287.8219 L146.68,287.3844 Q146.68,286.8844 146.9175,286.4469 Q147.1613,286.0094 147.58,285.7781 Q148.005,285.5406 148.48,285.5406 Q148.7675,285.5406 149.0175,285.6406 Q149.2675,285.7406 149.48,285.9406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="21.2" x="165.12" y="285.7828">«service»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="39.2" x="156.12" y="292.6508">PasswordPolicy</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="134.8" x2="204.4" y1="295.8813" y2="295.8813"/><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="134.8" x2="204.4" y1="299.0813" y2="299.0813"/><ellipse cx="138.8" cy="304.8031" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="60" x="142.4" y="306.4945">isSatisfiedBy(password)</text></g><!--MD5=[c5b08e60048ef1bcd788d24cf324082e]
class UserSession--><g id="elem_UserSession"><rect codeLine="142" fill="#F1F1F1" height="51.6563" id="UserSession" rx="1" ry="1" style="stroke:#181818;stroke-width:0.20000000000000004;" width="91.2" x="148.8" y="368.6"/><ellipse cx="176.9" cy="377.1406" fill="#ADD1B2" rx="4.4" ry="4.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/><path d="M177.7,375.7406 Q177.7813,375.5406 177.875,375.4406 Q177.9688,375.3406 178.075,375.3406 Q178.2625,375.3406 178.3813,375.4531 Q178.5,375.5656 178.5,375.8281 L178.5,376.4531 Q178.5,376.7156 178.3875,376.8281 Q178.275,376.9406 178.1,376.9406 Q177.9438,376.9406 177.8438,376.8719 Q177.7438,376.8031 177.7,376.6219 Q177.6813,376.4969 177.6125,376.4281 Q177.4875,376.2969 177.2625,376.2219 Q177.0375,376.1406 176.8125,376.1406 Q176.5313,376.1406 176.2938,376.2531 Q176.0625,376.3656 175.8813,376.6156 Q175.7,376.8656 175.7,377.2094 L175.7,377.5781 Q175.7,377.9906 176.0375,378.2656 Q176.375,378.5406 176.975,378.5406 Q177.3313,378.5406 177.5813,378.4594 Q177.725,378.4156 177.8875,378.2719 Q177.9938,378.1906 178.05,378.1656 Q178.1063,378.1406 178.175,378.1406 Q178.3063,378.1406 178.4,378.2469 Q178.5,378.3469 178.5,378.4906 Q178.5,378.6281 178.3625,378.7906 Q178.1625,379.0281 177.8438,379.1594 Q177.425,379.3406 176.9125,379.3406 Q176.3125,379.3406 175.8313,379.1031 Q175.4438,378.9156 175.1688,378.5094 Q174.9,378.1031 174.9,377.6219 L174.9,377.1844 Q174.9,376.6844 175.1375,376.2469 Q175.3813,375.8094 175.8,375.5781 Q176.225,375.3406 176.7,375.3406 Q176.9875,375.3406 177.2375,375.4406 Q177.4875,375.5406 177.7,375.7406 Z " fill="#000000"/><text fill="#000000" font-family="sans-serif" font-size="4.8" font-style="italic" lengthAdjust="spacing" textLength="32.4" x="184.7" y="375.5828">«value object»</text><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="31.6" x="185.1" y="382.4508">UserSession</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="149.2" x2="239.6" y1="385.6813" y2="385.6813"/><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="152" y="390.2031"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="80.8" x="156.8" y="393.0945">authenticatedUser : SystemUser</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="152" y="397.2469"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="45.2" x="156.8" y="400.1383">UUID token : UUID</text><rect fill="none" height="2.4" style="stroke:#C82930;stroke-width:0.4000000000000001;" width="2.4" x="152" y="404.2906"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="53.2" x="156.8" y="407.182">startedOn : Calendar</text><line style="stroke:#181818;stroke-width:0.20000000000000004;" x1="149.2" x2="239.6" y1="410.0125" y2="410.0125"/><ellipse cx="153.2" cy="415.7344" fill="#84BE84" rx="1.2" ry="1.2" style="stroke:#038048;stroke-width:0.4000000000000001;"/><text fill="#000000" font-family="sans-serif" font-size="5.6" lengthAdjust="spacing" textLength="46.8" x="156.8" y="417.4258">UserSession(user)</text></g><!--MD5=[3d2b0370d2fa1c3d90b0543433a55286]
reverse link Set to RoleSet--><g id="link_Set_RoleSet"><path d="M737.484,574.536 C737.216,579.58 736.924,585.128 736.652,590.32 " fill="none" id="Set-backto-RoleSet" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="none" points="734.696,574.272,737.912,566.432,740.288,574.568,734.696,574.272" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[adab5aead81c97742ce40bd170094a63]
link RegisterUserController to AuthorizationService--><g id="link_RegisterUserController_AuthorizationService"><path codeLine="154" d="M181.276,150.808 C166.7,158.596 150.948,167.016 136.4,174.8 C134.728,175.696 133.036,176.6 131.324,177.516 " fill="none" id="RegisterUserController-to-AuthorizationService" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="129.464,178.512,133.3929,178.2224,131.227,177.5676,131.8818,175.4016,129.464,178.512" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[26b6cd833475d2d56a9d342a19b62f90]
link RegisterUserUI to RegisterUserController--><g id="link_RegisterUserUI_RegisterUserController"><path codeLine="155" d="M235.6,61.628 C235.6,70.296 235.6,80.404 235.6,89.8 " fill="none" id="RegisterUserUI-to-RegisterUserController" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="235.6,91.916,237.2,88.316,235.6,89.916,234,88.316,235.6,91.916" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[0f003646d78e90708210011af4bbb293]
link RegisterUserController to UserManagementService--><g id="link_RegisterUserController_UserManagementService"><path codeLine="156" d="M282.812,150.82 C300.328,161.584 320.088,173.728 337.224,184.26 " fill="none" id="RegisterUserController-to-UserManagementService" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="338.98,185.34,336.7495,182.0927,337.2757,184.2934,335.075,184.8196,338.98,185.34" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[5f40d7ef9d0060e73af9ce8686cfc92e]
link SystemUser to FullName--><g id="link_SystemUser_FullName"><path codeLine="159" d="M630.848,448.052 C623.704,457.036 616.624,465.936 610.484,473.656 " fill="none" id="SystemUser-to-FullName" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="609.108,475.388,612.6014,473.567,610.3532,473.8229,610.0973,471.5747,609.108,475.388" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[a00b48498abbf4d3aa5edbf04235e8b3]
link SystemUser to Password--><g id="link_SystemUser_Password"><path codeLine="160" d="M705.932,448.12 C716.204,471.924 722.072,499.812 710,523.2 C694,554.2 661.284,576.564 633.7,590.848 " fill="none" id="SystemUser-to-Password" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="631.892,591.776,635.826,591.567,633.6739,590.8679,634.373,588.7158,631.892,591.776" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[14d1a09acbd2a86c46c8e0adbba04549]
link SystemUser to EmailAddress--><g id="link_SystemUser_EmailAddress"><path codeLine="161" d="M591.252,448.076 C578.764,456.212 566.036,464.524 554,472.4 C552.316,473.504 550.588,474.632 548.848,475.776 " fill="none" id="SystemUser-to-EmailAddress" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="547.1,476.924,550.988,476.2891,548.7728,475.8278,549.2341,473.6126,547.1,476.924" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[8fd088f9363de2db7451b770fad45cc2]
link SystemUser to ShortName--><g id="link_SystemUser_ShortName"><path codeLine="162" d="M671.332,448.052 C671.02,456.884 670.716,465.64 670.448,473.264 " fill="none" id="SystemUser-to-ShortName" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="670.372,475.388,672.0944,471.8449,670.4405,473.3892,668.8963,471.7353,670.372,475.388" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[355d05d6de50819a91dcbeed962da43b]
link UserSession to SystemUser--><g id="link_UserSession_SystemUser"><path codeLine="163" d="M240.072,378.84 C296.796,360.408 396.904,330.792 485.4,319.6 C503.124,317.36 548.344,315.8 565.8,319.6 C581.908,323.108 597.512,330.636 611.604,339.62 " fill="none" id="UserSession-to-SystemUser" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="613.316,340.724,611.153,337.4314,611.6336,339.6425,609.4225,340.1232,613.316,340.724" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[51777fa5f2d524d4088e82040ea93a10]
link AuthorizationService to UserSession--><g id="link_AuthorizationService_UserSession"><path codeLine="164" d="M86.772,247.632 C97.46,268.376 111.96,294.576 127.2,316.4 C139.604,334.164 155.384,352.556 168.532,366.972 " fill="none" id="AuthorizationService-to-UserSession" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="169.96,368.532,168.7029,364.7984,168.607,367.0591,166.3463,366.9632,169.96,368.532" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[dd01f312a1a31f5c58fd232e6e753f0a]
link AuthenticationService to AuthorizationService--><g id="link_AuthenticationService_AuthorizationService"><path codeLine="165" d="M143.476,211.2 C139.492,211.2 135.508,211.2 131.524,211.2 " fill="none" id="AuthenticationService-to-AuthorizationService" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="129.44,211.2,133.04,212.8,131.44,211.2,133.04,209.6,129.44,211.2" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[56cff2aa35e6cbb5a4b3b585c15b534a]
link AuthenticationService to Role--><g id="link_AuthenticationService_Role"><path codeLine="166" d="M284.512,244.38 C314.212,258.216 342.096,271.256 342.4,271.6 C380.54,314.416 383.2,336.656 383.2,394 C383.2,394 383.2,394 383.2,655.2 C383.2,724.96 494.788,735.116 544.916,736.16 " fill="none" id="AuthenticationService-to-Role" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="546.964,736.2,543.392,734.5385,544.9643,736.1657,543.3371,737.7381,546.964,736.2" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[556368b0dc0754eda9e92a0b3e129342]
link AuthenticationService to Password--><g id="link_AuthenticationService_Password"><path codeLine="167" d="M284.488,245.028 C286.872,245.928 289.248,246.788 291.6,247.6 C335.616,262.812 360.364,238.976 393.6,271.6 C433.664,310.928 424.8,337.86 424.8,394 C424.8,394 424.8,394 424.8,498.2 C424.8,548.364 477.912,577.764 523.464,593.752 " fill="none" id="AuthenticationService-to-Password" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="525.356,594.408,522.483,591.7124,523.4674,593.7498,521.43,594.7342,525.356,594.408" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[46b3713f55f7be2bf8c1dff280b713b4]
link AuthenticationService to EmailAddress--><g id="link_AuthenticationService_EmailAddress"><path codeLine="168" d="M284.42,245.232 C286.824,246.072 289.224,246.864 291.6,247.6 C353.416,266.72 387.828,227.52 435.2,271.6 C494.384,326.676 442.94,375.552 478,448.4 C481.7,456.092 486.756,463.716 491.968,470.58 " fill="none" id="AuthenticationService-to-EmailAddress" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="493.296,472.312,492.3612,468.485,492.0733,470.7293,489.8289,470.4413,493.296,472.312" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[4fba07f5ae7fc2ebff05bb0b153d6c8e]
link AuthenticationService to PasswordEncoder--><g id="link_AuthenticationService_PasswordEncoder"><path codeLine="169" d="M241.812,247.684 C247.584,255.172 253.524,262.88 258.852,269.792 " fill="none" id="AuthenticationService-to-PasswordEncoder" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="260.192,271.532,259.2572,267.705,258.9693,269.9493,256.7249,269.6613,260.192,271.532" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[a315b212f5722cf0f8fe1b5f91cf190f]
link AuthenticationService to PasswordPolicy--><g id="link_AuthenticationService_PasswordPolicy"><path codeLine="170" d="M194.46,247.684 C188.924,257.916 183.16,268.56 178.58,277.02 " fill="none" id="AuthenticationService-to-PasswordPolicy" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="177.62,278.792,180.7364,276.3821,178.5689,277.0314,177.9195,274.8639,177.62,278.792" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[45e1401b0d4fa0ea16e4baa7e0cf3aa8]
link RoleSet to RoleAssignment--><g id="link_RoleSet_RoleAssignment"><path codeLine="171" d="M727.676,630.808 C720.084,649.788 708.464,678.836 699.36,701.604 " fill="none" id="RoleSet-to-RoleAssignment" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="698.596,703.508,701.4186,700.7597,699.3388,701.651,698.4474,699.5713,698.596,703.508" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[94ccdb2a9334601dc2d1e0d756dd9d0f]
link RoleAssignment to Role--><g id="link_RoleAssignment_Role"><path codeLine="172" d="M635.74,736.4 C621.432,736.4 607.12,736.4 592.812,736.4 " fill="none" id="RoleAssignment-to-Role" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="590.7,736.4,594.3,738,592.7,736.4,594.3,734.8,590.7,736.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[4b3459968d088df87e9815732244c564]
link UserManagementService to SystemUserBuilder--><g id="link_UserManagementService_SystemUserBuilder"><path codeLine="174" d="M429.1,237.004 C443.76,246.388 458.972,258.084 470.4,271.6 C486.776,290.968 499.136,316.016 507.936,338.404 " fill="none" id="UserManagementService-to-SystemUserBuilder" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="508.672,340.288,508.8561,336.3528,507.946,338.4244,505.8743,337.5144,508.672,340.288" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[18f98f898b33518a07ec32b030c48693]
link UserManagementService to UserRepository--><g id="link_UserManagementService_UserRepository"><path codeLine="175" d="M462.368,218.592 C547.028,229.296 679.62,256.12 773.2,322.8 C793.596,337.332 808.42,363.016 816.304,379.24 " fill="none" id="UserManagementService-to-UserRepository" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="817.232,381.168,817.1186,377.2301,816.3675,379.3645,814.233,378.6133,817.232,381.168" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[70f515139769217ce8852e9134711a94]
link SystemUser to RoleSet--><g id="link_SystemUser_RoleSet"><path codeLine="177" d="M711.756,448.088 C729.436,476.08 748.18,511.848 756,547.2 C759.088,561.16 754.364,576.42 748.688,588.428 " fill="none" id="SystemUser-to-RoleSet" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="747.768,590.324,750.7735,587.7771,748.6372,588.5227,747.8915,586.3864,747.768,590.324" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[137dab0f304d11d41381903e70413919]
link SystemUserBuilder to SystemUser--><g id="link_SystemUserBuilder_SystemUser"><path codeLine="178" d="M565.668,394.4 C569.604,394.4 573.54,394.4 577.472,394.4 " fill="none" id="SystemUserBuilder-to-SystemUser" style="stroke:#181818;stroke-width:0.4000000000000001;stroke-dasharray:7.0,7.0;"/><polygon fill="#181818" points="579.532,394.4,575.932,392.8,577.532,394.4,575.932,396,579.532,394.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[dabe728235bc0ea6fdae2c1a3266723a]
link UserRepository to SystemUser--><g id="link_UserRepository_SystemUser"><path codeLine="182" d="M789.36,394.4 C782.56,394.4 775.756,394.4 768.956,394.4 " fill="none" id="UserRepository-to-SystemUser" style="stroke:#181818;stroke-width:0.4000000000000001;"/><polygon fill="#181818" points="766.848,394.4,770.448,396,768.848,394.4,770.448,392.8,766.848,394.4" style="stroke:#181818;stroke-width:0.4000000000000001;"/></g><!--MD5=[804983c2dcce7d386ba24745ce00290d]
@startuml
'https://plantuml.com/class-diagram

package "presentation" #DDDDDD{
    class RegisterUserUI <<ui>>{
    - theController : RegisterUserController
    + doShow()
    + showRoles(final Set<Role> roleTypes)
    }
}



package "domain" #dbd8ae{


        class Role <<value object>>{
        -roleName
        +Role(name)
        }

        class RoleAssignment <<value object>>{
               -pk
               -type
               - assignedOn
               - unassignedOn
               - expired
               +RoleAssignment(type, assignedOn)
        }

        class RoleSet implements Set{
        -assignments
        +add(role)
        +hasAssignment(role)
        }


        class SystemUser <<aggregate root>> <<entity>>{
        - email : EmailAddress
        - password : Password
        - fullName : FullName
        - shortName : ShortName
        - roles : RoleSet
        - createdOn : Calendar
        - active : boolean
        - activatedOn : Calendar
        - deactivatedOn : Calendar
        + SystemUser (email, password, fullName, shortName, roles, createdOn)
        + init(email, password, fullName, shortName, roles, createdOn)
        }

        class EmailAddress <<value object>> <<id>>{
         -email : String
         +valueOf(email)
         +EmailAddress(email)
        }

        class Password <<value object>>{
        + Password : String
        -encodedAndValid(password, policy, encoder)
        }

        class FullName <<value object>>{
        -fullName : String
         +valueOf(fullName)
        +FullName (fullName)
        }

        class ShortName<<value object>>{
        -shortName : String
         +valueOf(shortName)
        + FullName (shortName)
        }

        class SystemUserBuilder<<factory>>{
        - email : EmailAddress
        - password : Password
        - fullName : FullName
        - shortName : ShortName
        - roles : RoleSet
        - createdOn : Calendar
        + withEmail (email)
        + withPassword (password)
        + withFullName (pfullName)
        + withShortName (shortName)
        + withRoles (roles)
        + build ();
        }

}
    package "persistence" #dbd8ae{
       interface UserRepository{
       save(user : SystemUser)
       }
    }
package "application" #eaf4d3{
    class RegisterUserController <<controller>>{
        - authz : AuthorizationService
        - userSvc : UserManagementService
        + getRoleTypes()
        + addUser (email, password, fullName, shortName roles, createdOn)
        + addUser (email, password, fullName, shortName roles)
    }

    class AuthorizationService <<service>>{
        - userSession : UserSession
        + createSessionForUser(user)
        + clearSession()
        + hasSession()
        + session()
        + isAuthenticatedUserAuthorizedTo (action)
        + ensureAuthenticatedUserHasAnyOf (action)
    }

    class AuthenticationService <<service>>{
        - repo : UserRepository
        - authz : AuthorizationService
        - policy : PasswordPolicy
        - encoder : PasswordEncoder
        + AuthenticationService (repo, authz, policy, encoder)
        + authenticate(email, rawPassword, requiredRoles)
        + retrieveUser(email)
    }

    class UserManagementService <<service>>{
         - userRepository : UserRepository
         - encoder : PasswordEncoder
         - policy : PasswordPolicy
         + registerNewUser(email, password, fullName,shortName,roles)
    }

    class PasswordEncoder <<service>>{
        +encode(rawPassword)
        +matches(rawPassword,encodedPassword)
        +upgradeEncoding(encodedPassword)
    }

    class PasswordPolicy <<service>>{
       +isSatisfiedBy(password)
    }


    class UserSession <<value object>>{
        -authenticatedUser : SystemUser
        -UUID token : UUID
        -startedOn : Calendar
        + UserSession(user)
    }
}

interface Set{
}


RegisterUserController .-> AuthorizationService
RegisterUserUI .-> RegisterUserController
RegisterUserController .-> UserManagementService


SystemUser - -> FullName
SystemUser - - - -> Password
SystemUser - -> EmailAddress
SystemUser - -> ShortName
UserSession .> SystemUser
AuthorizationService .- -> UserSession
AuthenticationService .> AuthorizationService
AuthenticationService .> Role
AuthenticationService .> Password
AuthenticationService .-> EmailAddress
AuthenticationService .-> PasswordEncoder
AuthenticationService .-> PasswordPolicy
RoleSet .- - -> RoleAssignment
RoleAssignment -> Role

UserManagementService .-> SystemUserBuilder
UserManagementService .-> UserRepository

SystemUser - - - -> RoleSet
SystemUserBuilder .> SystemUser



UserRepository -> SystemUser

@enduml

@startuml

package "presentation" #DDDDDD{
    class RegisterUserUI <<ui>>{
    - theController : RegisterUserController
    + doShow()
    + showRoles(final Set<Role> roleTypes)
    }
}



package "domain" #dbd8ae{


        class Role <<value object>>{
        -roleName
        +Role(name)
        }

        class RoleAssignment <<value object>>{
               -pk
               -type
               - assignedOn
               - unassignedOn
               - expired
               +RoleAssignment(type, assignedOn)
        }

        class RoleSet implements Set{
        -assignments
        +add(role)
        +hasAssignment(role)
        }


        class SystemUser <<aggregate root>> <<entity>>{
        - email : EmailAddress
        - password : Password
        - fullName : FullName
        - shortName : ShortName
        - roles : RoleSet
        - createdOn : Calendar
        - active : boolean
        - activatedOn : Calendar
        - deactivatedOn : Calendar
        + SystemUser (email, password, fullName, shortName, roles, createdOn)
        + init(email, password, fullName, shortName, roles, createdOn)
        }

        class EmailAddress <<value object>> <<id>>{
         -email : String
         +valueOf(email)
         +EmailAddress(email)
        }

        class Password <<value object>>{
        + Password : String
        -encodedAndValid(password, policy, encoder)
        }

        class FullName <<value object>>{
        -fullName : String
         +valueOf(fullName)
        +FullName (fullName)
        }

        class ShortName<<value object>>{
        -shortName : String
         +valueOf(shortName)
        + FullName (shortName)
        }

        class SystemUserBuilder<<factory>>{
        - email : EmailAddress
        - password : Password
        - fullName : FullName
        - shortName : ShortName
        - roles : RoleSet
        - createdOn : Calendar
        + withEmail (email)
        + withPassword (password)
        + withFullName (pfullName)
        + withShortName (shortName)
        + withRoles (roles)
        + build ();
        }

}
    package "persistence" #dbd8ae{
       interface UserRepository{
       save(user : SystemUser)
       }
    }
package "application" #eaf4d3{
    class RegisterUserController <<controller>>{
        - authz : AuthorizationService
        - userSvc : UserManagementService
        + getRoleTypes()
        + addUser (email, password, fullName, shortName roles, createdOn)
        + addUser (email, password, fullName, shortName roles)
    }

    class AuthorizationService <<service>>{
        - userSession : UserSession
        + createSessionForUser(user)
        + clearSession()
        + hasSession()
        + session()
        + isAuthenticatedUserAuthorizedTo (action)
        + ensureAuthenticatedUserHasAnyOf (action)
    }

    class AuthenticationService <<service>>{
        - repo : UserRepository
        - authz : AuthorizationService
        - policy : PasswordPolicy
        - encoder : PasswordEncoder
        + AuthenticationService (repo, authz, policy, encoder)
        + authenticate(email, rawPassword, requiredRoles)
        + retrieveUser(email)
    }

    class UserManagementService <<service>>{
         - userRepository : UserRepository
         - encoder : PasswordEncoder
         - policy : PasswordPolicy
         + registerNewUser(email, password, fullName,shortName,roles)
    }

    class PasswordEncoder <<service>>{
        +encode(rawPassword)
        +matches(rawPassword,encodedPassword)
        +upgradeEncoding(encodedPassword)
    }

    class PasswordPolicy <<service>>{
       +isSatisfiedBy(password)
    }


    class UserSession <<value object>>{
        -authenticatedUser : SystemUser
        -UUID token : UUID
        -startedOn : Calendar
        + UserSession(user)
    }
}

interface Set{
}


RegisterUserController .-> AuthorizationService
RegisterUserUI .-> RegisterUserController
RegisterUserController .-> UserManagementService


SystemUser - -> FullName
SystemUser - - - -> Password
SystemUser - -> EmailAddress
SystemUser - -> ShortName
UserSession .> SystemUser
AuthorizationService .- -> UserSession
AuthenticationService .> AuthorizationService
AuthenticationService .> Role
AuthenticationService .> Password
AuthenticationService .-> EmailAddress
AuthenticationService .-> PasswordEncoder
AuthenticationService .-> PasswordPolicy
RoleSet .- - -> RoleAssignment
RoleAssignment -> Role

UserManagementService .-> SystemUserBuilder
UserManagementService .-> UserRepository

SystemUser - - - -> RoleSet
SystemUserBuilder .> SystemUser



UserRepository -> SystemUser

@enduml

PlantUML version 1.2022.12(Sun Oct 23 19:12:26 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>